<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.1">
    <meta name="project" content="Elixir v1.17.3">


    <title>DateTime â€” Elixir v1.17.3</title>

    <link rel="stylesheet" href="dist/html-elixir-PD7PAHEK.css" />

      <link rel="canonical" href="https://hexdocs.pm/elixir/DateTime.html" />

    <script defer src="dist/sidebar_items-3D721A5F.js"></script>
    <script defer src="docs_config.js"></script>
    <script>var Module={arguments: ["eval.avm"] }</script>
    <script defer src="dist/AtomVM.js"></script>
    <script defer src="dist/html-KNMUZUZQ.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Elixir" />
        </a>

      <div>
        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
Elixir
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.17.3
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Elixir</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">DateTime</span> 
      <small class="app-vsn" translate="no">(Elixir v1.17.3)</small>

    </h1>

      <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>A datetime implementation with a time zone.</p><p>This datetime can be seen as a snapshot of a date and time
at a given time zone. For such purposes, it also includes both
UTC and Standard offsets, as well as the zone abbreviation
field used exclusively for formatting purposes. Note future
datetimes are not necessarily guaranteed to exist, as time
zones may change any time in the future due to geopolitical
reasons. See the &quot;Datetimes as snapshots&quot; section for more
information.</p><p>Remember, comparisons in Elixir using <a href="Kernel.html#==/2"><code class="inline">==/2</code></a>, <a href="Kernel.html#%3E/2"><code class="inline">&gt;/2</code></a>, <a href="Kernel.html#%3C/2"><code class="inline">&lt;/2</code></a> and friends
are structural and based on the DateTime struct fields. For proper
comparison between datetimes, use the <a href="#compare/2"><code class="inline">compare/2</code></a> function. The
existence of the <a href="#compare/2"><code class="inline">compare/2</code></a> function in this module also allows
using <a href="Enum.html#min/2"><code class="inline">Enum.min/2</code></a> and <a href="Enum.html#max/2"><code class="inline">Enum.max/2</code></a> functions to get the minimum and
maximum datetime of an <a href="Enum.html"><code class="inline">Enum</code></a>. For example:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Enum</span><span class="o">.</span><span class="n">min</span><span class="p" data-group-id="9224899305-1">(</span><span class="p" data-group-id="9224899305-2">[</span><span class="ld">~U[2022-01-12 00:01:00.00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2021-01-12 00:01:00.00Z]</span><span class="p" data-group-id="9224899305-2">]</span><span class="p">,</span><span class="w"> </span><span class="nc">DateTime</span><span class="p" data-group-id="9224899305-1">)</span><span class="w">
</span><span class="ld">~U[2021-01-12 00:01:00.00Z]</span></code></pre><p>Developers should avoid creating the <a href="DateTime.html"><code class="inline">DateTime</code></a> struct directly
and instead rely on the functions provided by this module as
well as the ones in third-party calendar libraries.</p><h2 id="module-time-zone-database" class="section-heading">
  <a href="#module-time-zone-database" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Time zone database</span>
</h2>
<p>Many functions in this module require a time zone database.
By default, it uses the default time zone database returned by
<a href="Calendar.html#get_time_zone_database/0"><code class="inline">Calendar.get_time_zone_database/0</code></a>, which defaults to
<a href="Calendar.UTCOnlyTimeZoneDatabase.html"><code class="inline">Calendar.UTCOnlyTimeZoneDatabase</code></a> which only handles &quot;Etc/UTC&quot;
datetimes and returns <code class="inline">{:error, :utc_only_time_zone_database}</code>
for any other time zone.</p><p>Other time zone databases can also be configured. Here are some
available options and libraries:</p><ul><li><a href="https://github.com/hrzndhrn/time_zone_info"><code class="inline">time_zone_info</code></a></li><li><a href="https://github.com/mathieuprog/tz"><code class="inline">tz</code></a></li><li><a href="https://github.com/lau/tzdata"><code class="inline">tzdata</code></a></li><li><a href="https://github.com/smartrent/zoneinfo"><code class="inline">zoneinfo</code></a> -
recommended for embedded devices</li></ul><p>To use them, first make sure it is added as a dependency in <code class="inline">mix.exs</code>.
It can then be configured either via configuration:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:elixir</span><span class="p">,</span><span class="w"> </span><span class="ss">:time_zone_database</span><span class="p">,</span><span class="w"> </span><span class="nc">Tz.TimeZoneDatabase</span></code></pre><p>or by calling <a href="Calendar.html#put_time_zone_database/1"><code class="inline">Calendar.put_time_zone_database/1</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Calendar</span><span class="o">.</span><span class="n">put_time_zone_database</span><span class="p" data-group-id="0697600384-1">(</span><span class="nc">Tz.TimeZoneDatabase</span><span class="p" data-group-id="0697600384-1">)</span></code></pre><p>See the proper names in the library installation instructions.</p><h2 id="module-datetimes-as-snapshots" class="section-heading">
  <a href="#module-datetimes-as-snapshots" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Datetimes as snapshots</span>
</h2>
<p>In the first section, we described datetimes as a &quot;snapshot of
a date and time at a given time zone&quot;. To understand precisely
what we mean, let's see an example.</p><p>Imagine someone in Poland who wants to schedule a meeting with someone
in Brazil in the next year. The meeting will happen at 2:30 AM
in the Polish time zone. At what time will the meeting happen in
Brazil?</p><p>You can consult the time zone database today, one year before,
using the API in this module and it will give you an answer that
is valid right now. However, this answer may not be valid in the
future. Why? Because both Brazil and Poland may change their timezone
rules, ultimately affecting the result. For example, a country may
choose to enter or abandon &quot;Daylight Saving Time&quot;, which is a
process where we adjust the clock one hour forward or one hour
back once per year. Whenever the rules change, the exact instant
that 2:30 AM in Polish time will be in Brazil may change.</p><p>In other words, whenever working with future DateTimes, there is
no guarantee the results you get will always be correct, until
the event actually happens. Therefore, when you ask for a future
time, the answers you get are a snapshot that reflects the current
state of the time zone rules. For datetimes in the past, this is
not a problem, because time zone rules do not change for past
events.</p><p>To make matters worse, it may be that 2:30 AM in Polish time
does not actually even exist or it is ambiguous. If a certain
time zone observes &quot;Daylight Saving Time&quot;, they will move their
clock forward once a year. When this happens, there is a whole
hour that does not exist. Then, when they move the clock back,
there is a certain hour that will happen twice. So if you want to
schedule a meeting when this shift back happens, you would need to
explicitly say which occurrence of 2:30 AM you mean: the one in
&quot;Summer Time&quot;, which occurs before the shift, or the one
in &quot;Standard Time&quot;, which occurs after it. Applications that are
date and time sensitive need to take these scenarios into account
and correctly communicate them to users.</p><p>The good news is: Elixir contains all of the building blocks
necessary to tackle those problems. The default timezone database
used by Elixir, <a href="Calendar.UTCOnlyTimeZoneDatabase.html"><code class="inline">Calendar.UTCOnlyTimeZoneDatabase</code></a>, only works
with UTC, which does not observe those issues. Once you bring
a proper time zone database, the functions in this module will
query the database and return the relevant information. For
example, look at how <a href="#new/4"><code class="inline">DateTime.new/4</code></a> returns different results
based on the scenarios described in this section.</p><h2 id="module-converting-between-timezones" class="section-heading">
  <a href="#module-converting-between-timezones" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Converting between timezones</span>
</h2>
<p>Bearing in mind the cautions above, and assuming you've brought in a full
timezone database, here are some examples of common shifts between time
zones.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Local time to UTC</span><span class="w">
</span><span class="n">new_york</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="4564668693-1">(</span><span class="ld">~N[2023-06-26T09:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;America/New_York&quot;</span><span class="p" data-group-id="4564668693-1">)</span><span class="w">
</span><span class="c1">#=&gt; #DateTime&lt;2023-06-26 09:30:00-04:00 EDT America/New_York&gt;</span><span class="w">

</span><span class="n">utc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone!</span><span class="p" data-group-id="4564668693-2">(</span><span class="n">new_york</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="4564668693-2">)</span><span class="w">
</span><span class="c1">#=&gt; ~U[2023-06-26 13:30:00Z]</span><span class="w">

</span><span class="c1"># UTC to local time</span><span class="w">
</span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone!</span><span class="p" data-group-id="4564668693-3">(</span><span class="n">utc</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Paris&quot;</span><span class="p" data-group-id="4564668693-3">)</span><span class="w">
</span><span class="c1">#=&gt; #DateTime&lt;2023-06-26 15:30:00+02:00 CEST Europe/Paris&gt;</span></code></pre>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:t/0" data-no-tooltip="" translate="no">t()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#add/4" data-no-tooltip="" translate="no">add(datetime, amount_to_add, unit \\ :second, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Adds a specified amount of time to a <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#after?/2" data-no-tooltip="" translate="no">after?(datetime1, datetime2)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if the first datetime is strictly later than the second.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#before?/2" data-no-tooltip="" translate="no">before?(datetime1, datetime2)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if the first datetime is strictly earlier than the second.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compare/2" data-no-tooltip="" translate="no">compare(datetime1, datetime2)</a>

      </div>

        <div class="summary-synopsis"><p>Compares two datetime structs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert/2" data-no-tooltip="" translate="no">convert(datetime, calendar)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a given <code class="inline">datetime</code> from one calendar to another.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert!/2" data-no-tooltip="" translate="no">convert!(datetime, calendar)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a given <code class="inline">datetime</code> from one calendar to another.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#diff/3" data-no-tooltip="" translate="no">diff(datetime1, datetime2, unit \\ :second)</a>

      </div>

        <div class="summary-synopsis"><p>Subtracts <code class="inline">datetime2</code> from <code class="inline">datetime1</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_gregorian_seconds/3" data-no-tooltip="" translate="no">from_gregorian_seconds(seconds, arg \\ {0, 0}, calendar \\ Calendar.ISO)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a number of gregorian seconds to a <a href="DateTime.html"><code class="inline">DateTime</code></a> struct.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_iso8601/2" data-no-tooltip="" translate="no">from_iso8601(string, format_or_calendar \\ Calendar.ISO)</a>

      </div>

        <div class="summary-synopsis"><p>Parses the extended &quot;Date and time of day&quot; format described by
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601:2019</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_iso8601/3" data-no-tooltip="" translate="no">from_iso8601(string, calendar, format)</a>

      </div>

        <div class="summary-synopsis"><p>Converts from ISO8601 specifying both a calendar and a mode.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_naive/3" data-no-tooltip="" translate="no">from_naive(naive_datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_naive!/3" data-no-tooltip="" translate="no">from_naive!(naive_datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_unix/3" data-no-tooltip="" translate="no">from_unix(integer, unit \\ :second, calendar \\ Calendar.ISO)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given Unix time to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_unix!/3" data-no-tooltip="" translate="no">from_unix!(integer, unit \\ :second, calendar \\ Calendar.ISO)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given Unix time to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new/4" data-no-tooltip="" translate="no">new(date, time, time_zone \\ &quot;Etc/UTC&quot;, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Builds a datetime from date and time structs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new!/4" data-no-tooltip="" translate="no">new!(date, time, time_zone \\ &quot;Etc/UTC&quot;, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Builds a datetime from date and time structs, raising on errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#now/2" data-no-tooltip="" translate="no">now(time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Returns the current datetime in the provided time zone.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#now!/2" data-no-tooltip="" translate="no">now!(time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Returns the current datetime in the provided time zone or raises on errors</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#shift/3" data-no-tooltip="" translate="no">shift(datetime, duration, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Shifts given <code class="inline">datetime</code> by <code class="inline">duration</code> according to its calendar.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#shift_zone/3" data-no-tooltip="" translate="no">shift_zone(datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Changes the time zone of a <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#shift_zone!/3" data-no-tooltip="" translate="no">shift_zone!(datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</a>

      </div>

        <div class="summary-synopsis"><p>Changes the time zone of a <a href="DateTime.html"><code class="inline">DateTime</code></a> or raises on errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_date/1" data-no-tooltip="" translate="no">to_date(datetime)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> into a <a href="Date.html"><code class="inline">Date</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_gregorian_seconds/1" data-no-tooltip="" translate="no">to_gregorian_seconds(datetime)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> struct to a number of gregorian seconds and microseconds.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_iso8601/3" data-no-tooltip="" translate="no">to_iso8601(datetime, format \\ :extended, offset \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given datetime to
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601:2019</a> format.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_naive/1" data-no-tooltip="" translate="no">to_naive(datetime)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given <code class="inline">datetime</code> into a <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_string/1" data-no-tooltip="" translate="no">to_string(datetime)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given <code class="inline">datetime</code> to a string according to its calendar.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_time/1" data-no-tooltip="" translate="no">to_time(datetime)</a>

      </div>

        <div class="summary-synopsis"><p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> into <a href="Time.html"><code class="inline">Time</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_unix/2" data-no-tooltip="" translate="no">to_unix(datetime, unit \\ :second)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given <code class="inline">datetime</code> to Unix time.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#truncate/2" data-no-tooltip="" translate="no">truncate(datetime, precision)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the given datetime with the microsecond field truncated to the given
precision (<code class="inline">:microsecond</code>, <code class="inline">:millisecond</code> or <code class="inline">:second</code>).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#utc_now/1" data-no-tooltip="" translate="no">utc_now(calendar_or_time_unit \\ Calendar.ISO)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the current datetime in UTC.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#utc_now/2" data-no-tooltip="" translate="no">utc_now(time_unit, calendar)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the current datetime in UTC, supporting
a specific calendar and precision.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:t/0">

  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">t()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L145" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> t() :: %DateTime{
  calendar: <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>(),
  day: <a href="Calendar.html#t:day/0">Calendar.day</a>(),
  hour: <a href="Calendar.html#t:hour/0">Calendar.hour</a>(),
  microsecond: <a href="Calendar.html#t:microsecond/0">Calendar.microsecond</a>(),
  minute: <a href="Calendar.html#t:minute/0">Calendar.minute</a>(),
  month: <a href="Calendar.html#t:month/0">Calendar.month</a>(),
  second: <a href="Calendar.html#t:second/0">Calendar.second</a>(),
  std_offset: <a href="Calendar.html#t:std_offset/0">Calendar.std_offset</a>(),
  time_zone: <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(),
  utc_offset: <a href="Calendar.html#t:utc_offset/0">Calendar.utc_offset</a>(),
  year: <a href="Calendar.html#t:year/0">Calendar.year</a>(),
  zone_abbr: <a href="Calendar.html#t:zone_abbr/0">Calendar.zone_abbr</a>()
}</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="add/4">

    <span id="add/2"></span>

    <span id="add/3"></span>

  <div class="detail-header">
    <a href="#add/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">add(datetime, amount_to_add, unit \\ :second, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.8.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1627" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> add(
  <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(),
  <a href="typespecs.html#basic-types">integer</a>(),
  :day | :hour | :minute | <a href="System.html#t:time_unit/0">System.time_unit</a>(),
  <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()
) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Adds a specified amount of time to a <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>Accepts an <code class="inline">amount_to_add</code> in any <code class="inline">unit</code>. <code class="inline">unit</code> can be <code class="inline">:day</code>,
<code class="inline">:hour</code>, <code class="inline">:minute</code>, <code class="inline">:second</code> or any subsecond precision from
<a href="System.html#t:time_unit/0"><code class="inline">System.time_unit/0</code></a>. It defaults to <code class="inline">:second</code>. Negative values
will move backwards in time.</p><p>This function always considers the unit to be computed according
to the <a href="Calendar.ISO.html"><code class="inline">Calendar.ISO</code></a>.</p><p>This function relies on a contiguous representation of time,
ignoring the wall time and timezone changes. For example, if you add
one day when there are summer time/daylight saving time changes,
it will also change the time forward or backward by one hour,
so the elapsed time is precisely 24 hours. Similarly, adding just
a few seconds to a datetime just before &quot;spring forward&quot; can cause
wall time to increase by more than an hour.</p><p>While this means this function is precise in terms of elapsed time,
its result may be misleading in certain use cases. For example, if a
user requests a meeting to happen every day at 15:00 and you use this
function to compute all future meetings by adding day after day, this
function may change the meeting time to 14:00 or 16:00 if there are
changes to the current timezone. Computing of recurring datetimes is
not currently supported in Elixir's standard library but it is available
by third-party libraries.</p><h3 id="add/4-examples" class="section-heading">
  <a href="#add/4-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="2464313207-1">(</span><span class="ld">~N[2018-11-15 10:00:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="2464313207-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="2464313207-2">(</span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="2464313207-2">)</span><span class="w">
</span><span class="p" data-group-id="2464313207-3">#</span><span class="nc" data-group-id="2464313207-3">DateTime</span><span class="p" data-group-id="2464313207-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">15</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="2464313207-3">&gt;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="2464313207-4">(</span><span class="ld">~U[2018-11-15 10:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p" data-group-id="2464313207-4">)</span><span class="w">
</span><span class="ld">~U[2018-11-15 11:00:00Z]</span></code></pre><p>When adding 3 seconds just before &quot;spring forward&quot; we go from 1:59:59 to 3:00:02:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="8988944532-1">(</span><span class="ld">~N[2019-03-31 01:59:59.123]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="8988944532-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="8988944532-2">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="8988944532-2">)</span><span class="w">
</span><span class="p" data-group-id="8988944532-3">#</span><span class="nc" data-group-id="8988944532-3">DateTime</span><span class="p" data-group-id="8988944532-3">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">02.123</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="8988944532-3">&gt;</span></code></pre><p>When adding 1 day during &quot;spring forward&quot;, the hour also changes:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="8215587297-1">(</span><span class="ld">~N[2019-03-31 01:00:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="8215587297-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="8215587297-2">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:day</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="8215587297-2">)</span><span class="w">
</span><span class="p" data-group-id="8215587297-3">#</span><span class="nc" data-group-id="8215587297-3">DateTime</span><span class="p" data-group-id="8215587297-3">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="8215587297-3">&gt;</span></code></pre><p>This operation merges the precision of the naive date time with the given unit:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="0918411314-1">(</span><span class="ld">~U[2014-10-02 00:29:10Z]</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="ss">:millisecond</span><span class="p" data-group-id="0918411314-1">)</span><span class="w">
</span><span class="ld">~U[2014-10-02 00:29:10.021Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">microsecond</span><span class="w">
</span><span class="p" data-group-id="0918411314-2">{</span><span class="mi">21000</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0918411314-2">}</span></code></pre><p>To shift a datetime by a <a href="Duration.html"><code class="inline">Duration</code></a> and according to its underlying calendar, use <a href="#shift/3"><code class="inline">DateTime.shift/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="after?/2">

  <div class="detail-header">
    <a href="#after?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">after?(datetime1, datetime2)</h1>

        <span class="note">(since 1.15.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1485" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> after?(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Returns <code class="inline">true</code> if the first datetime is strictly later than the second.</p><h2 id="after?/2-examples" class="section-heading">
  <a href="#after?/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">after?</span><span class="p" data-group-id="4687791364-1">(</span><span class="ld">~U[2022-02-02 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p" data-group-id="4687791364-1">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">after?</span><span class="p" data-group-id="4687791364-2">(</span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p" data-group-id="4687791364-2">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">after?</span><span class="p" data-group-id="4687791364-3">(</span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2022-02-02 11:00:00Z]</span><span class="p" data-group-id="4687791364-3">)</span><span class="w">
</span><span class="no">false</span></code></pre>
  </section>
</section>
<section class="detail" id="before?/2">

  <div class="detail-header">
    <a href="#before?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">before?(datetime1, datetime2)</h1>

        <span class="note">(since 1.15.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1466" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> before?(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Returns <code class="inline">true</code> if the first datetime is strictly earlier than the second.</p><h2 id="before?/2-examples" class="section-heading">
  <a href="#before?/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">before?</span><span class="p" data-group-id="5795450759-1">(</span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2022-02-02 11:00:00Z]</span><span class="p" data-group-id="5795450759-1">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">before?</span><span class="p" data-group-id="5795450759-2">(</span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p" data-group-id="5795450759-2">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">before?</span><span class="p" data-group-id="5795450759-3">(</span><span class="ld">~U[2022-02-02 11:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2021-01-01 11:00:00Z]</span><span class="p" data-group-id="5795450759-3">)</span><span class="w">
</span><span class="no">false</span></code></pre>
  </section>
</section>
<section class="detail" id="compare/2">

  <div class="detail-header">
    <a href="#compare/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compare(datetime1, datetime2)</h1>

        <span class="note">(since 1.4.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1426" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> compare(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: :lt | :eq | :gt</pre>

      </div>

<p>Compares two datetime structs.</p><p>Returns <code class="inline">:gt</code> if the first datetime is later than the second
and <code class="inline">:lt</code> for vice versa. If the two datetimes are equal
<code class="inline">:eq</code> is returned.</p><p>Note that both UTC and Standard offsets will be taken into
account when comparison is done.</p><h2 id="compare/2-examples" class="section-heading">
  <a href="#compare/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1694643515-1">%</span><span class="nc" data-group-id="1694643515-1">DateTime</span><span class="p" data-group-id="1694643515-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1694643515-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="1694643515-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="1694643515-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">dt2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1694643515-3">%</span><span class="nc" data-group-id="1694643515-3">DateTime</span><span class="p" data-group-id="1694643515-3">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1694643515-4">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="1694643515-4">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="1694643515-3">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">compare</span><span class="p" data-group-id="1694643515-5">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="n">dt2</span><span class="p" data-group-id="1694643515-5">)</span><span class="w">
</span><span class="ss">:gt</span></code></pre>
  </section>
</section>
<section class="detail" id="convert/2">

  <div class="detail-header">
    <a href="#convert/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">convert(datetime, calendar)</h1>

        <span class="note">(since 1.5.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1891" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> convert(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) ::
  {:ok, <a href="#t:t/0">t</a>()} | {:error, :incompatible_calendars}</pre>

      </div>

<p>Converts a given <code class="inline">datetime</code> from one calendar to another.</p><p>If it is not possible to convert unambiguously between the calendars
(see <a href="Calendar.html#compatible_calendars?/2"><code class="inline">Calendar.compatible_calendars?/2</code></a>), an <code class="inline">{:error, :incompatible_calendars}</code> tuple
is returned.</p><h2 id="convert/2-examples" class="section-heading">
  <a href="#convert/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Imagine someone implements <code class="inline">Calendar.Holocene</code>, a calendar based on the
Gregorian calendar that adds exactly 10,000 years to the current Gregorian
year:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9044734900-1">%</span><span class="nc" data-group-id="9044734900-1">DateTime</span><span class="p" data-group-id="9044734900-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9044734900-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="9044734900-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="9044734900-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">convert</span><span class="p" data-group-id="9044734900-3">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.Holocene</span><span class="p" data-group-id="9044734900-3">)</span><span class="w">
</span><span class="p" data-group-id="9044734900-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9044734900-5">%</span><span class="nc" data-group-id="9044734900-5">DateTime</span><span class="p" data-group-id="9044734900-5">{</span><span class="ss">calendar</span><span class="p">:</span><span class="w"> </span><span class="nc">Calendar.Holocene</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
                </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9044734900-6">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="9044734900-6">}</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w">
                </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p" data-group-id="9044734900-5">}</span><span class="p" data-group-id="9044734900-4">}</span></code></pre>
  </section>
</section>
<section class="detail" id="convert!/2">

  <div class="detail-header">
    <a href="#convert!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">convert!(datetime, calendar)</h1>

        <span class="note">(since 1.5.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1936" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> convert!(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Converts a given <code class="inline">datetime</code> from one calendar to another.</p><p>If it is not possible to convert unambiguously between the calendars
(see <a href="Calendar.html#compatible_calendars?/2"><code class="inline">Calendar.compatible_calendars?/2</code></a>), an ArgumentError is raised.</p><h2 id="convert!/2-examples" class="section-heading">
  <a href="#convert!/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Imagine someone implements <code class="inline">Calendar.Holocene</code>, a calendar based on the
Gregorian calendar that adds exactly 10,000 years to the current Gregorian
year:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4546977055-1">%</span><span class="nc" data-group-id="4546977055-1">DateTime</span><span class="p" data-group-id="4546977055-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4546977055-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4546977055-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="4546977055-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">convert!</span><span class="p" data-group-id="4546977055-3">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.Holocene</span><span class="p" data-group-id="4546977055-3">)</span><span class="w">
</span><span class="p" data-group-id="4546977055-4">%</span><span class="nc" data-group-id="4546977055-4">DateTime</span><span class="p" data-group-id="4546977055-4">{</span><span class="ss">calendar</span><span class="p">:</span><span class="w"> </span><span class="nc">Calendar.Holocene</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
          </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4546977055-5">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4546977055-5">}</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w">
          </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p" data-group-id="4546977055-4">}</span></code></pre>
  </section>
</section>
<section class="detail" id="diff/3">

    <span id="diff/2"></span>

  <div class="detail-header">
    <a href="#diff/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">diff(datetime1, datetime2, unit \\ :second)</h1>

        <span class="note">(since 1.5.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1527" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> diff(
  <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(),
  <a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(),
  :day | :hour | :minute | <a href="System.html#t:time_unit/0">System.time_unit</a>()
) :: <a href="typespecs.html#basic-types">integer</a>()</pre>

      </div>

<p>Subtracts <code class="inline">datetime2</code> from <code class="inline">datetime1</code>.</p><p>The answer can be returned in any <code class="inline">:day</code>, <code class="inline">:hour</code>, <code class="inline">:minute</code>, or any <code class="inline">unit</code>
available from <a href="System.html#t:time_unit/0"><code class="inline">System.time_unit/0</code></a>. The unit is measured according to
<a href="Calendar.ISO.html"><code class="inline">Calendar.ISO</code></a> and defaults to <code class="inline">:second</code>.</p><p>Fractional results are not supported and are truncated.</p><h2 id="diff/3-examples" class="section-heading">
  <a href="#diff/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">diff</span><span class="p" data-group-id="0234822005-1">(</span><span class="ld">~U[2024-01-15 10:00:10Z]</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2024-01-15 10:00:00Z]</span><span class="p" data-group-id="0234822005-1">)</span><span class="w">
</span><span class="mi">10</span></code></pre><p>This function also considers timezone offsets:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2993675370-1">%</span><span class="nc" data-group-id="2993675370-1">DateTime</span><span class="p" data-group-id="2993675370-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2993675370-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2993675370-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="2993675370-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">dt2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2993675370-3">%</span><span class="nc" data-group-id="2993675370-3">DateTime</span><span class="p" data-group-id="2993675370-3">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2993675370-4">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2993675370-4">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="2993675370-3">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">diff</span><span class="p" data-group-id="2993675370-5">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="n">dt2</span><span class="p" data-group-id="2993675370-5">)</span><span class="w">
</span><span class="mi">18000</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">diff</span><span class="p" data-group-id="2993675370-6">(</span><span class="n">dt2</span><span class="p">,</span><span class="w"> </span><span class="n">dt1</span><span class="p" data-group-id="2993675370-6">)</span><span class="w">
</span><span class="o">-</span><span class="mi">18000</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">diff</span><span class="p" data-group-id="2993675370-7">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="n">dt2</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="2993675370-7">)</span><span class="w">
</span><span class="mi">5</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">diff</span><span class="p" data-group-id="2993675370-8">(</span><span class="n">dt2</span><span class="p">,</span><span class="w"> </span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="2993675370-8">)</span><span class="w">
</span><span class="o">-</span><span class="mi">5</span></code></pre>
  </section>
</section>
<section class="detail" id="from_gregorian_seconds/3">

    <span id="from_gregorian_seconds/1"></span>

    <span id="from_gregorian_seconds/2"></span>

  <div class="detail-header">
    <a href="#from_gregorian_seconds/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_gregorian_seconds(seconds, arg \\ {0, 0}, calendar \\ Calendar.ISO)</h1>

        <span class="note">(since 1.11.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1272" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_gregorian_seconds(<a href="typespecs.html#basic-types">integer</a>(), <a href="Calendar.html#t:microsecond/0">Calendar.microsecond</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) ::
  <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Converts a number of gregorian seconds to a <a href="DateTime.html"><code class="inline">DateTime</code></a> struct.</p><p>The returned <a href="DateTime.html"><code class="inline">DateTime</code></a> will have <code class="inline">UTC</code> timezone, if you want other timezone, please use
<a href="#shift_zone/3"><code class="inline">DateTime.shift_zone/3</code></a>.</p><h2 id="from_gregorian_seconds/3-examples" class="section-heading">
  <a href="#from_gregorian_seconds/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_gregorian_seconds</span><span class="p" data-group-id="4338637664-1">(</span><span class="mi">1</span><span class="p" data-group-id="4338637664-1">)</span><span class="w">
</span><span class="ld">~U[0000-01-01 00:00:01Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_gregorian_seconds</span><span class="p" data-group-id="4338637664-2">(</span><span class="mi">63_755_511_991</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4338637664-3">{</span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="4338637664-3">}</span><span class="p" data-group-id="4338637664-2">)</span><span class="w">
</span><span class="ld">~U[2020-05-01 00:26:31.005Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_gregorian_seconds</span><span class="p" data-group-id="4338637664-4">(</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="4338637664-4">)</span><span class="w">
</span><span class="ld">~U[-0001-12-31 23:59:59Z]</span></code></pre>
  </section>
</section>
<section class="detail" id="from_iso8601/2">

    <span id="from_iso8601/1"></span>

  <div class="detail-header">
    <a href="#from_iso8601/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_iso8601(string, format_or_calendar \\ Calendar.ISO)</h1>

        <span class="note">(since 1.4.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1203" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_iso8601(<a href="String.html#t:t/0">String.t</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>() | :extended | :basic) ::
  {:ok, <a href="#t:t/0">t</a>(), <a href="Calendar.html#t:utc_offset/0">Calendar.utc_offset</a>()} | {:error, <a href="typespecs.html#basic-types">atom</a>()}</pre>

      </div>

<p>Parses the extended &quot;Date and time of day&quot; format described by
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601:2019</a>.</p><p>Since ISO 8601 does not include the proper time zone, the given
string will be converted to UTC and its offset in seconds will be
returned as part of this function. Therefore offset information
must be present in the string.</p><p>As specified in the standard, the separator &quot;T&quot; may be omitted if
desired as there is no ambiguity within this function.</p><p>Note leap seconds are not supported by the built-in Calendar.ISO.</p><h2 id="from_iso8601/2-examples" class="section-heading">
  <a href="#from_iso8601/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5260303942-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-2">(</span><span class="s">&quot;2015-01-23T23:50:07Z&quot;</span><span class="p" data-group-id="5260303942-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 23:50:07Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5260303942-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-4">(</span><span class="s">&quot;2015-01-23T23:50:07.123+02:30&quot;</span><span class="p" data-group-id="5260303942-4">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 21:20:07.123Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-5">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5260303942-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-6">(</span><span class="s">&quot;2015-01-23T23:50:07,123+02:30&quot;</span><span class="p" data-group-id="5260303942-6">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 21:20:07.123Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-7">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5260303942-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-8">(</span><span class="s">&quot;-2015-01-23T23:50:07Z&quot;</span><span class="p" data-group-id="5260303942-8">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[-2015-01-23 23:50:07Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-9">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5260303942-9">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-10">(</span><span class="s">&quot;-2015-01-23T23:50:07,123+02:30&quot;</span><span class="p" data-group-id="5260303942-10">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[-2015-01-23 21:20:07.123Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5260303942-11">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5260303942-11">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-12">(</span><span class="s">&quot;20150123T235007.123+0230&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:basic</span><span class="p" data-group-id="5260303942-12">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 21:20:07.123Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-13">(</span><span class="s">&quot;2015-01-23P23:50:07&quot;</span><span class="p" data-group-id="5260303942-13">)</span><span class="w">
</span><span class="p" data-group-id="5260303942-14">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_format</span><span class="p" data-group-id="5260303942-14">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-15">(</span><span class="s">&quot;2015-01-23T23:50:07&quot;</span><span class="p" data-group-id="5260303942-15">)</span><span class="w">
</span><span class="p" data-group-id="5260303942-16">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:missing_offset</span><span class="p" data-group-id="5260303942-16">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-17">(</span><span class="s">&quot;2015-01-23 23:50:61&quot;</span><span class="p" data-group-id="5260303942-17">)</span><span class="w">
</span><span class="p" data-group-id="5260303942-18">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_time</span><span class="p" data-group-id="5260303942-18">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-19">(</span><span class="s">&quot;2015-01-32 23:50:07&quot;</span><span class="p" data-group-id="5260303942-19">)</span><span class="w">
</span><span class="p" data-group-id="5260303942-20">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_date</span><span class="p" data-group-id="5260303942-20">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5260303942-21">(</span><span class="s">&quot;2015-01-23T23:50:07.123-00:00&quot;</span><span class="p" data-group-id="5260303942-21">)</span><span class="w">
</span><span class="p" data-group-id="5260303942-22">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_format</span><span class="p" data-group-id="5260303942-22">}</span></code></pre>
  </section>
</section>
<section class="detail" id="from_iso8601/3">

  <div class="detail-header">
    <a href="#from_iso8601/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_iso8601(string, calendar, format)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1231" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_iso8601(<a href="String.html#t:t/0">String.t</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>(), :extended | :basic) ::
  {:ok, <a href="#t:t/0">t</a>(), <a href="Calendar.html#t:utc_offset/0">Calendar.utc_offset</a>()} | {:error, <a href="typespecs.html#basic-types">atom</a>()}</pre>

      </div>

<p>Converts from ISO8601 specifying both a calendar and a mode.</p><p>See <a href="#from_iso8601/2"><code class="inline">from_iso8601/2</code></a> for more information.</p><h2 id="from_iso8601/3-examples" class="section-heading">
  <a href="#from_iso8601/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5808212339-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5808212339-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5808212339-2">(</span><span class="s">&quot;2015-01-23T23:50:07,123+02:30&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p" data-group-id="5808212339-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 21:20:07.123Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5808212339-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">,</span><span class="w"> </span><span class="mi">9000</span><span class="p" data-group-id="5808212339-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="5808212339-4">(</span><span class="s">&quot;20150123T235007.123+0230&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p">,</span><span class="w"> </span><span class="ss">:basic</span><span class="p" data-group-id="5808212339-4">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-01-23 21:20:07.123Z]</span></code></pre>
  </section>
</section>
<section class="detail" id="from_naive/3">

    <span id="from_naive/2"></span>

  <div class="detail-header">
    <a href="#from_naive/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_naive(naive_datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.4.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L552" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_naive(
  <a href="Calendar.html#t:naive_datetime/0">Calendar.naive_datetime</a>(),
  <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(),
  <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()
) ::
  {:ok, <a href="#t:t/0">t</a>()}
  | {:ambiguous, first_datetime :: <a href="#t:t/0">t</a>(), second_datetime :: <a href="#t:t/0">t</a>()}
  | {:gap, <a href="#t:t/0">t</a>(), <a href="#t:t/0">t</a>()}
  | {:error,
     :incompatible_calendars
     | :time_zone_not_found
     | :utc_only_time_zone_database}</pre>

      </div>

<p>Converts the given <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>It expects a time zone to put the <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> in.
If the time zone is &quot;Etc/UTC&quot;, it always succeeds. Otherwise,
the NaiveDateTime is checked against the time zone database
given as <code class="inline">time_zone_database</code>. See the &quot;Time zone database&quot;
section in the module documentation.</p><h2 id="from_naive/3-examples" class="section-heading">
  <a href="#from_naive/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="7035777945-1">(</span><span class="ld">~N[2016-05-24 13:26:08.003]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="7035777945-1">)</span><span class="w">
</span><span class="p" data-group-id="7035777945-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2016-05-24 13:26:08.003Z]</span><span class="p" data-group-id="7035777945-2">}</span></code></pre><p>When the datetime is ambiguous - for instance during changing from summer
to winter time - the two possible valid datetimes are returned in a tuple.
The first datetime is also the one which comes first chronologically, while
the second one comes last.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="6516159880-1">{</span><span class="ss">:ambiguous</span><span class="p">,</span><span class="w"> </span><span class="n">first_dt</span><span class="p">,</span><span class="w"> </span><span class="n">second_dt</span><span class="p" data-group-id="6516159880-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="6516159880-2">(</span><span class="ld">~N[2018-10-28 02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="6516159880-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">first_dt</span><span class="w">
</span><span class="p" data-group-id="6516159880-3">#</span><span class="nc" data-group-id="6516159880-3">DateTime</span><span class="p" data-group-id="6516159880-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="6516159880-3">&gt;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">second_dt</span><span class="w">
</span><span class="p" data-group-id="6516159880-4">#</span><span class="nc" data-group-id="6516159880-4">DateTime</span><span class="p" data-group-id="6516159880-4">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="6516159880-4">&gt;</span></code></pre><p>When there is a gap in wall time - for instance in spring when the clocks are
turned forward - the latest valid datetime just before the gap and the first
valid datetime just after the gap.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5081995979-1">{</span><span class="ss">:gap</span><span class="p">,</span><span class="w"> </span><span class="n">just_before</span><span class="p">,</span><span class="w"> </span><span class="n">just_after</span><span class="p" data-group-id="5081995979-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="5081995979-2">(</span><span class="ld">~N[2019-03-31 02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="5081995979-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">just_before</span><span class="w">
</span><span class="p" data-group-id="5081995979-3">#</span><span class="nc" data-group-id="5081995979-3">DateTime</span><span class="p" data-group-id="5081995979-3">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">01</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mf">59.999999</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="5081995979-3">&gt;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">just_after</span><span class="w">
</span><span class="p" data-group-id="5081995979-4">#</span><span class="nc" data-group-id="5081995979-4">DateTime</span><span class="p" data-group-id="5081995979-4">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="5081995979-4">&gt;</span></code></pre><p>Most of the time there is one, and just one, valid datetime for a certain
date and time in a certain time zone.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3661045327-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="3661045327-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="3661045327-2">(</span><span class="ld">~N[2018-07-28 12:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="3661045327-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="p" data-group-id="3661045327-3">#</span><span class="nc" data-group-id="3661045327-3">DateTime</span><span class="p" data-group-id="3661045327-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="3661045327-3">&gt;</span></code></pre><p>This function accepts any map or struct that contains at least the same fields as a <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a>
struct. The most common example of that is a <a href="DateTime.html"><code class="inline">DateTime</code></a>. In this case the information about the time
zone of that <a href="DateTime.html"><code class="inline">DateTime</code></a> is completely ignored. This is the same principle as passing a <a href="DateTime.html"><code class="inline">DateTime</code></a> to
<a href="Date.html#to_iso8601/2"><code class="inline">Date.to_iso8601/2</code></a>. <a href="Date.html#to_iso8601/2"><code class="inline">Date.to_iso8601/2</code></a> extracts only the date-specific fields (calendar, year,
month and day) of the given structure and ignores all others.</p><p>This way if you have a <a href="DateTime.html"><code class="inline">DateTime</code></a> in one time zone, you can get the same wall time in another time zone.
For instance if you have 2018-08-24 10:00:00 in Copenhagen and want a <a href="DateTime.html"><code class="inline">DateTime</code></a> for 2018-08-24 10:00:00
in UTC you can do:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">cph_datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="1832611530-1">(</span><span class="ld">~N[2018-08-24 10:00:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1832611530-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="1832611530-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">utc_datetime</span><span class="p" data-group-id="1832611530-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="1832611530-3">(</span><span class="n">cph_datetime</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1832611530-3">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">utc_datetime</span><span class="w">
</span><span class="ld">~U[2018-08-24 10:00:00Z]</span></code></pre><p>If instead you want a <a href="DateTime.html"><code class="inline">DateTime</code></a> for the same point time in a different time zone see the
<a href="#shift_zone/3"><code class="inline">DateTime.shift_zone/3</code></a> function which would convert 2018-08-24 10:00:00 in Copenhagen
to 2018-08-24 08:00:00 in UTC.</p>
  </section>
</section>
<section class="detail" id="from_naive!/3">

    <span id="from_naive!/2"></span>

  <div class="detail-header">
    <a href="#from_naive!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_naive!(naive_datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.4.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L675" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_naive!(
  <a href="NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>(),
  <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(),
  <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()
) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Converts the given <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>It expects a time zone to put the NaiveDateTime in.
If the time zone is &quot;Etc/UTC&quot;, it always succeeds. Otherwise,
the NaiveDateTime is checked against the time zone database
given as <code class="inline">time_zone_database</code>. See the &quot;Time zone database&quot;
section in the module documentation.</p><h2 id="from_naive!/3-examples" class="section-heading">
  <a href="#from_naive!/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="5899024637-1">(</span><span class="ld">~N[2016-05-24 13:26:08.003]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="5899024637-1">)</span><span class="w">
</span><span class="ld">~U[2016-05-24 13:26:08.003Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive!</span><span class="p" data-group-id="5899024637-2">(</span><span class="ld">~N[2018-05-24 13:26:08.003]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="5899024637-2">)</span><span class="w">
</span><span class="p" data-group-id="5899024637-3">#</span><span class="nc" data-group-id="5899024637-3">DateTime</span><span class="p" data-group-id="5899024637-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">24</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mf">08.003</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="5899024637-3">&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="from_unix/3">

    <span id="from_unix/1"></span>

    <span id="from_unix/2"></span>

  <div class="detail-header">
    <a href="#from_unix/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_unix(integer, unit \\ :second, calendar \\ Calendar.ISO)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L418" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_unix(<a href="typespecs.html#basic-types">integer</a>(), :native | <a href="System.html#t:time_unit/0">System.time_unit</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) ::
  {:ok, <a href="#t:t/0">t</a>()} | {:error, <a href="typespecs.html#basic-types">atom</a>()}</pre>

      </div>

<p>Converts the given Unix time to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>The integer can be given in different unit
according to <a href="System.html#convert_time_unit/3"><code class="inline">System.convert_time_unit/3</code></a> and it will
be converted to microseconds internally. Up to
253402300799 seconds is supported.</p><p>Unix times are always in UTC and therefore the DateTime
will be returned in UTC.</p><h2 id="from_unix/3-examples" class="section-heading">
  <a href="#from_unix/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3591233194-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="3591233194-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3591233194-2">(</span><span class="mi">1_464_096_368</span><span class="p" data-group-id="3591233194-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2016-05-24 13:26:08Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3591233194-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="3591233194-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3591233194-4">(</span><span class="mi">1_432_560_368_868_569</span><span class="p">,</span><span class="w"> </span><span class="ss">:microsecond</span><span class="p" data-group-id="3591233194-4">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[2015-05-25 13:26:08.868569Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3591233194-5">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="3591233194-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3591233194-6">(</span><span class="mi">253_402_300_799</span><span class="p" data-group-id="3591233194-6">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[9999-12-31 23:59:59Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3591233194-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_unix_time</span><span class="p" data-group-id="3591233194-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3591233194-8">(</span><span class="mi">253_402_300_800</span><span class="p" data-group-id="3591233194-8">)</span></code></pre><p>The unit can also be an integer as in <a href="System.html#t:time_unit/0"><code class="inline">System.time_unit/0</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="8125968253-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="8125968253-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="8125968253-2">(</span><span class="mi">143_256_036_886_856</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p" data-group-id="8125968253-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[6403-03-17 07:05:22.320312Z]</span></code></pre><p>Negative Unix times are supported up to -377705116800 seconds:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3530342108-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="3530342108-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3530342108-2">(</span><span class="o">-</span><span class="mi">377_705_116_800</span><span class="p" data-group-id="3530342108-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="ld">~U[-9999-01-01 00:00:00Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="3530342108-3">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_unix_time</span><span class="p" data-group-id="3530342108-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix</span><span class="p" data-group-id="3530342108-4">(</span><span class="o">-</span><span class="mi">377_705_116_801</span><span class="p" data-group-id="3530342108-4">)</span></code></pre>
  </section>
</section>
<section class="detail" id="from_unix!/3">

    <span id="from_unix!/1"></span>

    <span id="from_unix!/2"></span>

  <div class="detail-header">
    <a href="#from_unix!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_unix!(integer, unit \\ :second, calendar \\ Calendar.ISO)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L469" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> from_unix!(<a href="typespecs.html#basic-types">integer</a>(), :native | <a href="System.html#t:time_unit/0">System.time_unit</a>(), <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Converts the given Unix time to <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>The integer can be given in different unit
according to <a href="System.html#convert_time_unit/3"><code class="inline">System.convert_time_unit/3</code></a> and it will
be converted to microseconds internally.</p><p>Unix times are always in UTC and therefore the DateTime
will be returned in UTC.</p><h2 id="from_unix!/3-examples" class="section-heading">
  <a href="#from_unix!/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="c1"># An easy way to get the Unix epoch is passing 0 to this function</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix!</span><span class="p" data-group-id="9537539145-1">(</span><span class="mi">0</span><span class="p" data-group-id="9537539145-1">)</span><span class="w">
</span><span class="ld">~U[1970-01-01 00:00:00Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix!</span><span class="p" data-group-id="9537539145-2">(</span><span class="mi">1_464_096_368</span><span class="p" data-group-id="9537539145-2">)</span><span class="w">
</span><span class="ld">~U[2016-05-24 13:26:08Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix!</span><span class="p" data-group-id="9537539145-3">(</span><span class="mi">1_432_560_368_868_569</span><span class="p">,</span><span class="w"> </span><span class="ss">:microsecond</span><span class="p" data-group-id="9537539145-3">)</span><span class="w">
</span><span class="ld">~U[2015-05-25 13:26:08.868569Z]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix!</span><span class="p" data-group-id="9537539145-4">(</span><span class="mi">143_256_036_886_856</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p" data-group-id="9537539145-4">)</span><span class="w">
</span><span class="ld">~U[6403-03-17 07:05:22.320312Z]</span></code></pre>
  </section>
</section>
<section class="detail" id="new/4">

    <span id="new/2"></span>

    <span id="new/3"></span>

  <div class="detail-header">
    <a href="#new/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new(date, time, time_zone \\ &quot;Etc/UTC&quot;, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.11.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L273" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> new(<a href="Date.html#t:t/0">Date.t</a>(), <a href="Time.html#t:t/0">Time.t</a>(), <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) ::
  {:ok, <a href="#t:t/0">t</a>()}
  | {:ambiguous, first_datetime :: <a href="#t:t/0">t</a>(), second_datetime :: <a href="#t:t/0">t</a>()}
  | {:gap, <a href="#t:t/0">t</a>(), <a href="#t:t/0">t</a>()}
  | {:error,
     :incompatible_calendars
     | :time_zone_not_found
     | :utc_only_time_zone_database}</pre>

      </div>

<p>Builds a datetime from date and time structs.</p><p>It expects a time zone to put the <a href="DateTime.html"><code class="inline">DateTime</code></a> in.
If the time zone is not passed it will default to <code class="inline">&quot;Etc/UTC&quot;</code>,
which always succeeds. Otherwise, the <a href="DateTime.html"><code class="inline">DateTime</code></a> is checked against the time zone database
given as <code class="inline">time_zone_database</code>. See the &quot;Time zone database&quot;
section in the module documentation.</p><h2 id="new/4-examples" class="section-heading">
  <a href="#new/4-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="2151110789-1">(</span><span class="ld">~D[2016-05-24]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[13:26:08.003]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="2151110789-1">)</span><span class="w">
</span><span class="p" data-group-id="2151110789-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~U[2016-05-24 13:26:08.003Z]</span><span class="p" data-group-id="2151110789-2">}</span></code></pre><p>When the datetime is ambiguous - for instance during changing from summer
to winter time - the two possible valid datetimes are returned in a tuple.
The first datetime is also the one which comes first chronologically, while
the second one comes last.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="4152610955-1">{</span><span class="ss">:ambiguous</span><span class="p">,</span><span class="w"> </span><span class="n">first_dt</span><span class="p">,</span><span class="w"> </span><span class="n">second_dt</span><span class="p" data-group-id="4152610955-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="4152610955-2">(</span><span class="ld">~D[2018-10-28]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="4152610955-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">first_dt</span><span class="w">
</span><span class="p" data-group-id="4152610955-3">#</span><span class="nc" data-group-id="4152610955-3">DateTime</span><span class="p" data-group-id="4152610955-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="4152610955-3">&gt;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">second_dt</span><span class="w">
</span><span class="p" data-group-id="4152610955-4">#</span><span class="nc" data-group-id="4152610955-4">DateTime</span><span class="p" data-group-id="4152610955-4">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="4152610955-4">&gt;</span></code></pre><p>When there is a gap in wall time - for instance in spring when the clocks are
turned forward - the latest valid datetime just before the gap and the first
valid datetime just after the gap.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="9686630116-1">{</span><span class="ss">:gap</span><span class="p">,</span><span class="w"> </span><span class="n">just_before</span><span class="p">,</span><span class="w"> </span><span class="n">just_after</span><span class="p" data-group-id="9686630116-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="9686630116-2">(</span><span class="ld">~D[2019-03-31]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="9686630116-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">just_before</span><span class="w">
</span><span class="p" data-group-id="9686630116-3">#</span><span class="nc" data-group-id="9686630116-3">DateTime</span><span class="p" data-group-id="9686630116-3">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">01</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mf">59.999999</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="9686630116-3">&gt;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">just_after</span><span class="w">
</span><span class="p" data-group-id="9686630116-4">#</span><span class="nc" data-group-id="9686630116-4">DateTime</span><span class="p" data-group-id="9686630116-4">&lt;</span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="9686630116-4">&gt;</span></code></pre><p>Most of the time there is one, and just one, valid datetime for a certain
date and time in a certain time zone.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="0815667999-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="0815667999-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="0815667999-2">(</span><span class="ld">~D[2018-07-28]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[12:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="0815667999-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="p" data-group-id="0815667999-3">#</span><span class="nc" data-group-id="0815667999-3">DateTime</span><span class="p" data-group-id="0815667999-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="0815667999-3">&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="new!/4">

    <span id="new!/2"></span>

    <span id="new!/3"></span>

  <div class="detail-header">
    <a href="#new!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new!(date, time, time_zone \\ &quot;Etc/UTC&quot;, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.11.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L344" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> new!(<a href="Date.html#t:t/0">Date.t</a>(), <a href="Time.html#t:t/0">Time.t</a>(), <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) ::
  <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Builds a datetime from date and time structs, raising on errors.</p><p>It expects a time zone to put the <a href="DateTime.html"><code class="inline">DateTime</code></a> in.
If the time zone is not passed it will default to <code class="inline">&quot;Etc/UTC&quot;</code>,
which always succeeds. Otherwise, the DateTime is checked against the time zone database
given as <code class="inline">time_zone_database</code>. See the &quot;Time zone database&quot;
section in the module documentation.</p><h2 id="new!/4-examples" class="section-heading">
  <a href="#new!/4-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="1145514092-1">(</span><span class="ld">~D[2016-05-24]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[13:26:08.003]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="1145514092-1">)</span><span class="w">
</span><span class="ld">~U[2016-05-24 13:26:08.003Z]</span></code></pre><p>When the datetime is ambiguous - for instance during changing from summer
to winter time - an error will be raised.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="4194488554-1">(</span><span class="ld">~D[2018-10-28]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="4194488554-1">)</span><span class="w">
</span><span class="gt">** (ArgumentError) cannot build datetime with ~D[2018-10-28] and ~T[02:30:00] because such instant is ambiguous in time zone Europe/Copenhagen as there is an overlap between #DateTime&lt;2018-10-28 02:30:00+02:00 CEST Europe/Copenhagen&gt; and #DateTime&lt;2018-10-28 02:30:00+01:00 CET Europe/Copenhagen&gt;</span></code></pre><p>When there is a gap in wall time - for instance in spring when the clocks are
turned forward - an error will be raised.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="7144257350-1">(</span><span class="ld">~D[2019-03-31]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[02:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="7144257350-1">)</span><span class="w">
</span><span class="gt">** (ArgumentError) cannot build datetime with ~D[2019-03-31] and ~T[02:30:00] because such instant does not exist in time zone Europe/Copenhagen as there is a gap between #DateTime&lt;2019-03-31 01:59:59.999999+01:00 CET Europe/Copenhagen&gt; and #DateTime&lt;2019-03-31 03:00:00+02:00 CEST Europe/Copenhagen&gt;</span></code></pre><p>Most of the time there is one, and just one, valid datetime for a certain
date and time in a certain time zone.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="5048712048-1">(</span><span class="ld">~D[2018-07-28]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[12:30:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="5048712048-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w">
</span><span class="p" data-group-id="5048712048-2">#</span><span class="nc" data-group-id="5048712048-2">DateTime</span><span class="p" data-group-id="5048712048-2">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">28</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CEST</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Copenhagen</span><span class="p" data-group-id="5048712048-2">&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="now/2">

    <span id="now/1"></span>

  <div class="detail-header">
    <a href="#now/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">now(time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.8.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L831" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> now(<a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) ::
  {:ok, <a href="#t:t/0">t</a>()} | {:error, :time_zone_not_found | :utc_only_time_zone_database}</pre>

      </div>

<p>Returns the current datetime in the provided time zone.</p><p>By default, it uses the default time_zone returned by
<a href="Calendar.html#get_time_zone_database/0"><code class="inline">Calendar.get_time_zone_database/0</code></a>, which defaults to
<a href="Calendar.UTCOnlyTimeZoneDatabase.html"><code class="inline">Calendar.UTCOnlyTimeZoneDatabase</code></a> which only handles &quot;Etc/UTC&quot; datetimes.
Other time zone databases can be passed as argument or set globally.
See the &quot;Time zone database&quot; section in the module docs.</p><h2 id="now/2-examples" class="section-heading">
  <a href="#now/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="1920629303-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p" data-group-id="1920629303-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now</span><span class="p" data-group-id="1920629303-2">(</span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="1920629303-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">time_zone</span><span class="w">
</span><span class="s">&quot;Etc/UTC&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now</span><span class="p" data-group-id="1920629303-3">(</span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p" data-group-id="1920629303-3">)</span><span class="w">
</span><span class="p" data-group-id="1920629303-4">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:utc_only_time_zone_database</span><span class="p" data-group-id="1920629303-4">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now</span><span class="p" data-group-id="1920629303-5">(</span><span class="s">&quot;bad timezone&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1920629303-5">)</span><span class="w">
</span><span class="p" data-group-id="1920629303-6">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:time_zone_not_found</span><span class="p" data-group-id="1920629303-6">}</span></code></pre>
  </section>
</section>
<section class="detail" id="now!/2">

    <span id="now!/1"></span>

  <div class="detail-header">
    <a href="#now!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">now!(time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.10.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L861" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> now!(<a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Returns the current datetime in the provided time zone or raises on errors</p><p>See <a href="#now/2"><code class="inline">now/2</code></a> for more information.</p><h2 id="now!/2-examples" class="section-heading">
  <a href="#now!/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now!</span><span class="p" data-group-id="1901167125-1">(</span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="1901167125-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">time_zone</span><span class="w">
</span><span class="s">&quot;Etc/UTC&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now!</span><span class="p" data-group-id="1901167125-2">(</span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p" data-group-id="1901167125-2">)</span><span class="w">
</span><span class="gt">** (ArgumentError) cannot get current datetime in &quot;Europe/Copenhagen&quot; time zone, reason: :utc_only_time_zone_database</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">now!</span><span class="p" data-group-id="1901167125-3">(</span><span class="s">&quot;bad timezone&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1901167125-3">)</span><span class="w">
</span><span class="gt">** (ArgumentError) cannot get current datetime in &quot;bad timezone&quot; time zone, reason: :time_zone_not_found</span></code></pre>
  </section>
</section>
<section class="detail" id="shift/3">

    <span id="shift/2"></span>

  <div class="detail-header">
    <a href="#shift/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">shift(datetime, duration, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.17.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1741" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> shift(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), <a href="Duration.html#t:duration/0">Duration.duration</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) ::
  <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Shifts given <code class="inline">datetime</code> by <code class="inline">duration</code> according to its calendar.</p><p>Allowed units are: <code class="inline">:year</code>, <code class="inline">:month</code>, <code class="inline">:week</code>, <code class="inline">:day</code>, <code class="inline">:hour</code>, <code class="inline">:minute</code>, <code class="inline">:second</code>, <code class="inline">:microsecond</code>.</p><p>This operation is equivalent to shifting the datetime wall clock
(in other words, the value as someone in that timezone would see
on their watch), then applying the time zone offset to convert it
to UTC, and finally computing the new timezone in case of shifts.
This ensures <a href="#shift/3"><code class="inline">shift/3</code></a> always returns a valid datetime.</p><p>On the other hand, time zones that observe &quot;Daylight Saving Time&quot;
or other changes, across summer/winter time will add/remove hours
from the resulting datetime:</p><pre><code class="makeup elixir" translate="no"><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="9930317876-1">(</span><span class="ld">~D[2019-03-31]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[01:00:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Europe/Copenhagen&quot;</span><span class="p" data-group-id="9930317876-1">)</span><span class="w">
</span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="9930317876-2">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9930317876-2">)</span><span class="w">
</span><span class="c1">#=&gt; #DateTime&lt;2019-03-31 03:00:00+02:00 CEST Europe/Copenhagen&gt;</span><span class="w">

</span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">new!</span><span class="p" data-group-id="9930317876-3">(</span><span class="ld">~D[2018-11-04]</span><span class="p">,</span><span class="w"> </span><span class="ld">~T[00:00:00]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;America/Los_Angeles&quot;</span><span class="p" data-group-id="9930317876-3">)</span><span class="w">
</span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="9930317876-4">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9930317876-4">)</span><span class="w">
</span><span class="c1">#=&gt; #DateTime&lt;2018-11-04 01:00:00-08:00 PST America/Los_Angeles&gt;</span></code></pre><p>In case you don't want these changes to happen automatically or you
want to surface time zone conflicts to the user, you can shift
the datetime as a naive datetime and then use <a href="#from_naive/2"><code class="inline">from_naive/2</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="n">dt</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">NaiveDateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="7071837753-1">(</span><span class="n">duration</span><span class="p" data-group-id="7071837753-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_naive</span><span class="p" data-group-id="7071837753-2">(</span><span class="n">dt</span><span class="o">.</span><span class="n">time_zone</span><span class="p" data-group-id="7071837753-2">)</span></code></pre><p>When using the default ISO calendar, durations are collapsed and
applied in the order of months, then seconds and microseconds:</p><ul><li>when shifting by 1 year and 2 months the date is actually shifted by 14 months</li><li>weeks, days and smaller units are collapsed into seconds and microseconds</li></ul><p>When shifting by month, days are rounded down to the nearest valid date.</p><h2 id="shift/3-examples" class="section-heading">
  <a href="#shift/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-1">(</span><span class="ld">~U[2016-01-01 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0372103135-1">)</span><span class="w">
</span><span class="ld">~U[2016-03-01 00:00:00Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-2">(</span><span class="ld">~U[2016-01-01 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">week</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p" data-group-id="0372103135-2">)</span><span class="w">
</span><span class="ld">~U[2017-01-29 00:00:00Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-3">(</span><span class="ld">~U[2016-01-01 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">25</span><span class="p" data-group-id="0372103135-3">)</span><span class="w">
</span><span class="ld">~U[2015-12-31 23:35:00Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-4">(</span><span class="ld">~U[2016-01-01 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0372103135-5">{</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p" data-group-id="0372103135-5">}</span><span class="p" data-group-id="0372103135-4">)</span><span class="w">
</span><span class="ld">~U[2016-01-01 00:05:00.0005Z]</span><span class="w">

</span><span class="c1"># leap years</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-6">(</span><span class="ld">~U[2024-02-29 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0372103135-6">)</span><span class="w">
</span><span class="ld">~U[2025-02-28 00:00:00Z]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-7">(</span><span class="ld">~U[2024-02-29 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p" data-group-id="0372103135-7">)</span><span class="w">
</span><span class="ld">~U[2028-02-29 00:00:00Z]</span><span class="w">

</span><span class="c1"># rounding down</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift</span><span class="p" data-group-id="0372103135-8">(</span><span class="ld">~U[2015-01-31 00:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0372103135-8">)</span><span class="w">
</span><span class="ld">~U[2015-02-28 00:00:00Z]</span></code></pre>
  </section>
</section>
<section class="detail" id="shift_zone/3">

    <span id="shift_zone/2"></span>

  <div class="detail-header">
    <a href="#shift_zone/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">shift_zone(datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.8.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L728" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> shift_zone(<a href="#t:t/0">t</a>(), <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) ::
  {:ok, <a href="#t:t/0">t</a>()} | {:error, :time_zone_not_found | :utc_only_time_zone_database}</pre>

      </div>

<p>Changes the time zone of a <a href="DateTime.html"><code class="inline">DateTime</code></a>.</p><p>Returns a <a href="DateTime.html"><code class="inline">DateTime</code></a> for the same point in time, but instead at
the time zone provided. It assumes that <a href="DateTime.html"><code class="inline">DateTime</code></a> is valid and
exists in the given time zone and calendar.</p><p>By default, it uses the default time zone database returned by
<a href="Calendar.html#get_time_zone_database/0"><code class="inline">Calendar.get_time_zone_database/0</code></a>, which defaults to
<a href="Calendar.UTCOnlyTimeZoneDatabase.html"><code class="inline">Calendar.UTCOnlyTimeZoneDatabase</code></a> which only handles &quot;Etc/UTC&quot; datetimes.
Other time zone databases can be passed as argument or set globally.
See the &quot;Time zone database&quot; section in the module docs.</p><h2 id="shift_zone/3-examples" class="section-heading">
  <a href="#shift_zone/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="1648065829-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">pacific_datetime</span><span class="p" data-group-id="1648065829-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone</span><span class="p" data-group-id="1648065829-2">(</span><span class="ld">~U[2018-07-16 10:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;America/Los_Angeles&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1648065829-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">pacific_datetime</span><span class="w">
</span><span class="p" data-group-id="1648065829-3">#</span><span class="nc" data-group-id="1648065829-3">DateTime</span><span class="p" data-group-id="1648065829-3">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">07</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">PDT</span><span class="w"> </span><span class="nc">America</span><span class="o">/</span><span class="nc">Los_Angeles</span><span class="p" data-group-id="1648065829-3">&gt;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone</span><span class="p" data-group-id="1648065829-4">(</span><span class="ld">~U[2018-07-16 10:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad timezone&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="1648065829-4">)</span><span class="w">
</span><span class="p" data-group-id="1648065829-5">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:time_zone_not_found</span><span class="p" data-group-id="1648065829-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="shift_zone!/3">

    <span id="shift_zone!/2"></span>

  <div class="detail-header">
    <a href="#shift_zone!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">shift_zone!(datetime, time_zone, time_zone_database \\ Calendar.get_time_zone_database())</h1>

        <span class="note">(since 1.10.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L794" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> shift_zone!(<a href="#t:t/0">t</a>(), <a href="Calendar.html#t:time_zone/0">Calendar.time_zone</a>(), <a href="Calendar.html#t:time_zone_database/0">Calendar.time_zone_database</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Changes the time zone of a <a href="DateTime.html"><code class="inline">DateTime</code></a> or raises on errors.</p><p>See <a href="#shift_zone/3"><code class="inline">shift_zone/3</code></a> for more information.</p><h2 id="shift_zone!/3-examples" class="section-heading">
  <a href="#shift_zone!/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone!</span><span class="p" data-group-id="4880099323-1">(</span><span class="ld">~U[2018-07-16 10:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;America/Los_Angeles&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="4880099323-1">)</span><span class="w">
</span><span class="p" data-group-id="4880099323-2">#</span><span class="nc" data-group-id="4880099323-2">DateTime</span><span class="p" data-group-id="4880099323-2">&lt;</span><span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">07</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">PDT</span><span class="w"> </span><span class="nc">America</span><span class="o">/</span><span class="nc">Los_Angeles</span><span class="p" data-group-id="4880099323-2">&gt;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">shift_zone!</span><span class="p" data-group-id="4880099323-3">(</span><span class="ld">~U[2018-07-16 10:00:00Z]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad timezone&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">FakeTimeZoneDatabase</span><span class="p" data-group-id="4880099323-3">)</span><span class="w">
</span><span class="gt">** (ArgumentError) cannot shift ~U[2018-07-16 10:00:00Z] to &quot;bad timezone&quot; time zone, reason: :time_zone_not_found</span></code></pre>
  </section>
</section>
<section class="detail" id="to_date/1">

  <div class="detail-header">
    <a href="#to_date/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_date(datetime)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L967" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_date(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="Date.html#t:t/0">Date.t</a>()</pre>

      </div>

<p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> into a <a href="Date.html"><code class="inline">Date</code></a>.</p><p>Because <a href="Date.html"><code class="inline">Date</code></a> does not hold time nor time zone information,
data will be lost during the conversion.</p><h2 id="to_date/1-examples" class="section-heading">
  <a href="#to_date/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7727232004-1">%</span><span class="nc" data-group-id="7727232004-1">DateTime</span><span class="p" data-group-id="7727232004-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7727232004-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="7727232004-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="7727232004-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_date</span><span class="p" data-group-id="7727232004-3">(</span><span class="n">dt</span><span class="p" data-group-id="7727232004-3">)</span><span class="w">
</span><span class="ld">~D[2000-02-29]</span></code></pre>
  </section>
</section>
<section class="detail" id="to_gregorian_seconds/1">

  <div class="detail-header">
    <a href="#to_gregorian_seconds/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_gregorian_seconds(datetime)</h1>

        <span class="note">(since 1.11.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1325" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_gregorian_seconds(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: {<a href="typespecs.html#basic-types">integer</a>(), <a href="typespecs.html#basic-types">non_neg_integer</a>()}</pre>

      </div>

<p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> struct to a number of gregorian seconds and microseconds.</p><h2 id="to_gregorian_seconds/1-examples" class="section-heading">
  <a href="#to_gregorian_seconds/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5710962854-1">%</span><span class="nc" data-group-id="5710962854-1">DateTime</span><span class="p" data-group-id="5710962854-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">0000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5710962854-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5710962854-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="5710962854-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_gregorian_seconds</span><span class="p" data-group-id="5710962854-3">(</span><span class="n">dt</span><span class="p" data-group-id="5710962854-3">)</span><span class="w">
</span><span class="p" data-group-id="5710962854-4">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5710962854-4">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5710962854-5">%</span><span class="nc" data-group-id="5710962854-5">DateTime</span><span class="p" data-group-id="5710962854-5">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2020</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5710962854-6">{</span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5710962854-6">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="5710962854-5">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_gregorian_seconds</span><span class="p" data-group-id="5710962854-7">(</span><span class="n">dt</span><span class="p" data-group-id="5710962854-7">)</span><span class="w">
</span><span class="p" data-group-id="5710962854-8">{</span><span class="mi">63_755_511_991</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="5710962854-8">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5710962854-9">%</span><span class="nc" data-group-id="5710962854-9">DateTime</span><span class="p" data-group-id="5710962854-9">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2020</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5710962854-10">{</span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5710962854-10">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="5710962854-9">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_gregorian_seconds</span><span class="p" data-group-id="5710962854-11">(</span><span class="n">dt</span><span class="p" data-group-id="5710962854-11">)</span><span class="w">
</span><span class="p" data-group-id="5710962854-12">{</span><span class="mi">63_755_511_991</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="5710962854-12">}</span></code></pre>
  </section>
</section>
<section class="detail" id="to_iso8601/3">

    <span id="to_iso8601/1"></span>

    <span id="to_iso8601/2"></span>

  <div class="detail-header">
    <a href="#to_iso8601/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_iso8601(datetime, format \\ :extended, offset \\ nil)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1084" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_iso8601(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), :basic | :extended, nil | <a href="typespecs.html#basic-types">integer</a>()) ::
  <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given datetime to
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601:2019</a> format.</p><p>By default, <a href="#to_iso8601/2"><code class="inline">DateTime.to_iso8601/2</code></a> returns datetimes formatted in the &quot;extended&quot;
format, for human readability. It also supports the &quot;basic&quot; format through passing the <code class="inline">:basic</code> option.</p><p>Only supports converting datetimes which are in the ISO calendar,
attempting to convert datetimes from other calendars will raise.
You can also optionally specify an offset for the formatted string.</p><p>WARNING: the ISO 8601 datetime format does not contain the time zone nor
its abbreviation, which means information is lost when converting to such
format.</p><h3 id="to_iso8601/3-examples" class="section-heading">
  <a href="#to_iso8601/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-1">%</span><span class="nc" data-group-id="2401614873-1">DateTime</span><span class="p" data-group-id="2401614873-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="2401614873-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-3">(</span><span class="n">dt</span><span class="p" data-group-id="2401614873-3">)</span><span class="w">
</span><span class="s">&quot;2000-02-29T23:00:07+01:00&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-4">%</span><span class="nc" data-group-id="2401614873-4">DateTime</span><span class="p" data-group-id="2401614873-4">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-5">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-5">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="2401614873-4">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-6">(</span><span class="n">dt</span><span class="p" data-group-id="2401614873-6">)</span><span class="w">
</span><span class="s">&quot;2000-02-29T23:00:07Z&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-7">%</span><span class="nc" data-group-id="2401614873-7">DateTime</span><span class="p" data-group-id="2401614873-7">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-8">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-8">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="2401614873-7">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-9">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p" data-group-id="2401614873-9">)</span><span class="w">
</span><span class="s">&quot;2000-02-29T23:00:07-04:00&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-10">%</span><span class="nc" data-group-id="2401614873-10">DateTime</span><span class="p" data-group-id="2401614873-10">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-11">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-11">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="2401614873-10">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-12">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:basic</span><span class="p" data-group-id="2401614873-12">)</span><span class="w">
</span><span class="s">&quot;20000229T230007-0400&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-13">%</span><span class="nc" data-group-id="2401614873-13">DateTime</span><span class="p" data-group-id="2401614873-13">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-14">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-14">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="2401614873-13">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-15">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p" data-group-id="2401614873-15">)</span><span class="w">
</span><span class="s">&quot;2000-03-01T04:00:07+01:00&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-16">%</span><span class="nc" data-group-id="2401614873-16">DateTime</span><span class="p" data-group-id="2401614873-16">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-17">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-17">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="2401614873-16">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-18">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-18">)</span><span class="w">
</span><span class="s">&quot;2000-03-01T03:00:07+00:00&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2401614873-19">%</span><span class="nc" data-group-id="2401614873-19">DateTime</span><span class="p" data-group-id="2401614873-19">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">01</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">03</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2401614873-20">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-20">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="2401614873-19">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-21">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2401614873-21">)</span><span class="w">
</span><span class="s">&quot;2000-03-01T03:00:07Z&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2401614873-22">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p" data-group-id="2401614873-22">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p" data-group-id="2401614873-23">(</span><span class="s">&quot;2000-03-01T03:00:07Z&quot;</span><span class="p" data-group-id="2401614873-23">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="s">&quot;2000-03-01T03:00:07Z&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_iso8601</span><span class="p" data-group-id="2401614873-24">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="ss">:extended</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p" data-group-id="2401614873-24">)</span></code></pre>
  </section>
</section>
<section class="detail" id="to_naive/1">

  <div class="detail-header">
    <a href="#to_naive/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_naive(datetime)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L926" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_naive(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()</pre>

      </div>

<p>Converts the given <code class="inline">datetime</code> into a <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a>.</p><p>Because <a href="NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> does not hold time zone information,
any time zone related data will be lost during the conversion.</p><h2 id="to_naive/1-examples" class="section-heading">
  <a href="#to_naive/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9858709894-1">%</span><span class="nc" data-group-id="9858709894-1">DateTime</span><span class="p" data-group-id="9858709894-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9858709894-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9858709894-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="9858709894-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_naive</span><span class="p" data-group-id="9858709894-3">(</span><span class="n">dt</span><span class="p" data-group-id="9858709894-3">)</span><span class="w">
</span><span class="ld">~N[2000-02-29 23:00:07.0]</span></code></pre>
  </section>
</section>
<section class="detail" id="to_string/1">

  <div class="detail-header">
    <a href="#to_string/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_string(datetime)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1372" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_string(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given <code class="inline">datetime</code> to a string according to its calendar.</p><h3 id="to_string/1-examples" class="section-heading">
  <a href="#to_string/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4752430945-1">%</span><span class="nc" data-group-id="4752430945-1">DateTime</span><span class="p" data-group-id="4752430945-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4752430945-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4752430945-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="4752430945-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="4752430945-3">(</span><span class="n">dt</span><span class="p" data-group-id="4752430945-3">)</span><span class="w">
</span><span class="s">&quot;2000-02-29 23:00:07+01:00 CET Europe/Warsaw&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4752430945-4">%</span><span class="nc" data-group-id="4752430945-4">DateTime</span><span class="p" data-group-id="4752430945-4">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4752430945-5">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4752430945-5">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p" data-group-id="4752430945-4">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="4752430945-6">(</span><span class="n">dt</span><span class="p" data-group-id="4752430945-6">)</span><span class="w">
</span><span class="s">&quot;2000-02-29 23:00:07Z&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4752430945-7">%</span><span class="nc" data-group-id="4752430945-7">DateTime</span><span class="p" data-group-id="4752430945-7">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;AMT&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4752430945-8">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4752430945-8">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">14400</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Manaus&quot;</span><span class="p" data-group-id="4752430945-7">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="4752430945-9">(</span><span class="n">dt</span><span class="p" data-group-id="4752430945-9">)</span><span class="w">
</span><span class="s">&quot;2000-02-29 23:00:07-04:00 AMT America/Manaus&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4752430945-10">%</span><span class="nc" data-group-id="4752430945-10">DateTime</span><span class="p" data-group-id="4752430945-10">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4752430945-11">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4752430945-11">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Stockholm&quot;</span><span class="p" data-group-id="4752430945-10">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="4752430945-12">(</span><span class="n">dt</span><span class="p" data-group-id="4752430945-12">)</span><span class="w">
</span><span class="s">&quot;-0100-12-19 03:20:31+01:00 CET Europe/Stockholm&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="to_time/1">

  <div class="detail-header">
    <a href="#to_time/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_time(datetime)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L999" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_time(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>()) :: <a href="Time.html#t:t/0">Time.t</a>()</pre>

      </div>

<p>Converts a <a href="DateTime.html"><code class="inline">DateTime</code></a> into <a href="Time.html"><code class="inline">Time</code></a>.</p><p>Because <a href="Time.html"><code class="inline">Time</code></a> does not hold date nor time zone information,
data will be lost during the conversion.</p><h2 id="to_time/1-examples" class="section-heading">
  <a href="#to_time/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4766438217-1">%</span><span class="nc" data-group-id="4766438217-1">DateTime</span><span class="p" data-group-id="4766438217-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4766438217-2">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4766438217-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Warsaw&quot;</span><span class="p" data-group-id="4766438217-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_time</span><span class="p" data-group-id="4766438217-3">(</span><span class="n">dt</span><span class="p" data-group-id="4766438217-3">)</span><span class="w">
</span><span class="ld">~T[23:00:07.0]</span></code></pre>
  </section>
</section>
<section class="detail" id="to_unix/2">

    <span id="to_unix/1"></span>

  <div class="detail-header">
    <a href="#to_unix/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_unix(datetime, unit \\ :second)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L901" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_unix(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), :native | <a href="System.html#t:time_unit/0">System.time_unit</a>()) :: <a href="typespecs.html#basic-types">integer</a>()</pre>

      </div>

<p>Converts the given <code class="inline">datetime</code> to Unix time.</p><p>The <code class="inline">datetime</code> is expected to be using the ISO calendar
with a year greater than or equal to 0.</p><p>It will return the integer with the given unit,
according to <a href="System.html#convert_time_unit/3"><code class="inline">System.convert_time_unit/3</code></a>.</p><h2 id="to_unix/2-examples" class="section-heading">
  <a href="#to_unix/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="mi">1_464_096_368</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">from_unix!</span><span class="p" data-group-id="5369173213-1">(</span><span class="p" data-group-id="5369173213-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_unix</span><span class="p" data-group-id="5369173213-2">(</span><span class="p" data-group-id="5369173213-2">)</span><span class="w">
</span><span class="mi">1464096368</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5369173213-3">%</span><span class="nc" data-group-id="5369173213-3">DateTime</span><span class="p" data-group-id="5369173213-3">{</span><span class="ss">calendar</span><span class="p">:</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5369173213-4">{</span><span class="mi">273806</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="5369173213-4">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Montevideo&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">10800</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2014</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UYST&quot;</span><span class="p" data-group-id="5369173213-3">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_unix</span><span class="p" data-group-id="5369173213-5">(</span><span class="n">dt</span><span class="p" data-group-id="5369173213-5">)</span><span class="w">
</span><span class="mi">1416517099</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">flamel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5369173213-6">%</span><span class="nc" data-group-id="5369173213-6">DateTime</span><span class="p" data-group-id="5369173213-6">{</span><span class="ss">calendar</span><span class="p">:</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5369173213-7">{</span><span class="mi">527771</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="5369173213-7">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Etc/UTC&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">               </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">1418</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UTC&quot;</span><span class="p" data-group-id="5369173213-6">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">to_unix</span><span class="p" data-group-id="5369173213-8">(</span><span class="n">flamel</span><span class="p" data-group-id="5369173213-8">)</span><span class="w">
</span><span class="o">-</span><span class="mi">17412508655</span></code></pre>
  </section>
</section>
<section class="detail" id="truncate/2">

  <div class="detail-header">
    <a href="#truncate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">truncate(datetime, precision)</h1>

        <span class="note">(since 1.6.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L1856" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> truncate(<a href="Calendar.html#t:datetime/0">Calendar.datetime</a>(), :microsecond | :millisecond | :second) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Returns the given datetime with the microsecond field truncated to the given
precision (<code class="inline">:microsecond</code>, <code class="inline">:millisecond</code> or <code class="inline">:second</code>).</p><p>The given datetime is returned unchanged if it already has lower precision than
the given precision.</p><h2 id="truncate/2-examples" class="section-heading">
  <a href="#truncate/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">dt1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5644971293-1">%</span><span class="nc" data-group-id="5644971293-1">DateTime</span><span class="p" data-group-id="5644971293-1">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2017</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5644971293-2">{</span><span class="mi">123456</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="5644971293-2">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Paris&quot;</span><span class="p" data-group-id="5644971293-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">truncate</span><span class="p" data-group-id="5644971293-3">(</span><span class="n">dt1</span><span class="p">,</span><span class="w"> </span><span class="ss">:microsecond</span><span class="p" data-group-id="5644971293-3">)</span><span class="w">
</span><span class="p" data-group-id="5644971293-4">#</span><span class="nc" data-group-id="5644971293-4">DateTime</span><span class="p" data-group-id="5644971293-4">&lt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">07</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">18.123456</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Paris</span><span class="p" data-group-id="5644971293-4">&gt;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5644971293-5">%</span><span class="nc" data-group-id="5644971293-5">DateTime</span><span class="p" data-group-id="5644971293-5">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2017</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5644971293-6">{</span><span class="mi">123456</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="5644971293-6">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Paris&quot;</span><span class="p" data-group-id="5644971293-5">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">truncate</span><span class="p" data-group-id="5644971293-7">(</span><span class="n">dt2</span><span class="p">,</span><span class="w"> </span><span class="ss">:millisecond</span><span class="p" data-group-id="5644971293-7">)</span><span class="w">
</span><span class="p" data-group-id="5644971293-8">#</span><span class="nc" data-group-id="5644971293-8">DateTime</span><span class="p" data-group-id="5644971293-8">&lt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">07</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">18.123</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Paris</span><span class="p" data-group-id="5644971293-8">&gt;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">dt3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5644971293-9">%</span><span class="nc" data-group-id="5644971293-9">DateTime</span><span class="p" data-group-id="5644971293-9">{</span><span class="ss">year</span><span class="p">:</span><span class="w"> </span><span class="mi">2017</span><span class="p">,</span><span class="w"> </span><span class="ss">month</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">day</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">zone_abbr</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CET&quot;</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">hour</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="ss">minute</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="ss">second</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="ss">microsecond</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5644971293-10">{</span><span class="mi">123456</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="5644971293-10">}</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">                </span><span class="ss">utc_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="ss">std_offset</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">time_zone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Europe/Paris&quot;</span><span class="p" data-group-id="5644971293-9">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">truncate</span><span class="p" data-group-id="5644971293-11">(</span><span class="n">dt3</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p" data-group-id="5644971293-11">)</span><span class="w">
</span><span class="p" data-group-id="5644971293-12">#</span><span class="nc" data-group-id="5644971293-12">DateTime</span><span class="p" data-group-id="5644971293-12">&lt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">07</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">18</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="nc">CET</span><span class="w"> </span><span class="nc">Europe</span><span class="o">/</span><span class="nc">Paris</span><span class="p" data-group-id="5644971293-12">&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="utc_now/1">

    <span id="utc_now/0"></span>

  <div class="detail-header">
    <a href="#utc_now/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">utc_now(calendar_or_time_unit \\ Calendar.ISO)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L188" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> utc_now(<a href="Calendar.html#t:calendar/0">Calendar.calendar</a>() | :native | :microsecond | :millisecond | :second) ::
  <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Returns the current datetime in UTC.</p><p>If you want the current time in Unix seconds,
use <a href="System.html#os_time/1"><code class="inline">System.os_time/1</code></a> instead.</p><p>You can also pass a time unit to automatically
truncate the resulting datetime. This is available
since v1.15.0.</p><p>The default unit if none gets passed is <code class="inline">:native</code>,
which results on a default resolution of microseconds.</p><h2 id="utc_now/1-examples" class="section-heading">
  <a href="#utc_now/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">utc_now</span><span class="p" data-group-id="0173380147-1">(</span><span class="p" data-group-id="0173380147-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">time_zone</span><span class="w">
</span><span class="s">&quot;Etc/UTC&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">utc_now</span><span class="p" data-group-id="0173380147-2">(</span><span class="ss">:second</span><span class="p" data-group-id="0173380147-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">microsecond</span><span class="w">
</span><span class="p" data-group-id="0173380147-3">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="0173380147-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="utc_now/2">

  <div class="detail-header">
    <a href="#utc_now/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">utc_now(time_unit, calendar)</h1>

        <span class="note">(since 1.15.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/calendar/datetime.ex#L218" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> utc_now(:native | :microsecond | :millisecond | :second, <a href="Calendar.html#t:calendar/0">Calendar.calendar</a>()) ::
  <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Returns the current datetime in UTC, supporting
a specific calendar and precision.</p><p>If you want the current time in Unix seconds,
use <a href="System.html#os_time/1"><code class="inline">System.os_time/1</code></a> instead.</p><h2 id="utc_now/2-examples" class="section-heading">
  <a href="#utc_now/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">utc_now</span><span class="p" data-group-id="5684152220-1">(</span><span class="ss">:microsecond</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p" data-group-id="5684152220-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">time_zone</span><span class="w">
</span><span class="s">&quot;Etc/UTC&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DateTime</span><span class="o">.</span><span class="n">utc_now</span><span class="p" data-group-id="5684152220-2">(</span><span class="ss">:second</span><span class="p">,</span><span class="w"> </span><span class="nc">Calendar.ISO</span><span class="p" data-group-id="5684152220-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">microsecond</span><span class="w">
</span><span class="p" data-group-id="5684152220-3">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5684152220-3">}</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Elixir.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.1) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  });
</script>

  </body>
</html>
