<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.1">
    <meta name="project" content="Elixir v1.17.3">


    <title>Macro â€” Elixir v1.17.3</title>

    <link rel="stylesheet" href="dist/html-elixir-PD7PAHEK.css" />

      <link rel="canonical" href="https://hexdocs.pm/elixir/Macro.html" />

    <script defer src="dist/sidebar_items-3D721A5F.js"></script>
    <script defer src="docs_config.js"></script>
    <script>var Module={arguments: ["eval.avm"] }</script>
    <script defer src="dist/AtomVM.js"></script>
    <script defer src="dist/html-KNMUZUZQ.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Elixir" />
        </a>

      <div>
        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
Elixir
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.17.3
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Elixir</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">Macro</span> 
      <small class="app-vsn" translate="no">(Elixir v1.17.3)</small>

    </h1>

      <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L3" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Functions for manipulating AST and implementing macros.</p><p>Macros are compile-time constructs that receive Elixir's AST as input
and return Elixir's AST as output.</p><p>Many of the functions in this module exist precisely to work with Elixir
AST, to traverse, query, and transform it.</p><p>Let's see a simple example that shows the difference between functions
and macros:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Example</span><span class="w"> </span><span class="k" data-group-id="8524092176-1">do</span><span class="w">
  </span><span class="kd">defmacro</span><span class="w"> </span><span class="nf">macro_inspect</span><span class="p" data-group-id="8524092176-2">(</span><span class="n">value</span><span class="p" data-group-id="8524092176-2">)</span><span class="w"> </span><span class="k" data-group-id="8524092176-3">do</span><span class="w">
    </span><span class="nc">IO</span><span class="o">.</span><span class="n">inspect</span><span class="p" data-group-id="8524092176-4">(</span><span class="n">value</span><span class="p" data-group-id="8524092176-4">)</span><span class="w">
    </span><span class="n">value</span><span class="w">
  </span><span class="k" data-group-id="8524092176-3">end</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">fun_inspect</span><span class="p" data-group-id="8524092176-5">(</span><span class="n">value</span><span class="p" data-group-id="8524092176-5">)</span><span class="w"> </span><span class="k" data-group-id="8524092176-6">do</span><span class="w">
    </span><span class="nc">IO</span><span class="o">.</span><span class="n">inspect</span><span class="p" data-group-id="8524092176-7">(</span><span class="n">value</span><span class="p" data-group-id="8524092176-7">)</span><span class="w">
    </span><span class="n">value</span><span class="w">
  </span><span class="k" data-group-id="8524092176-6">end</span><span class="w">
</span><span class="k" data-group-id="8524092176-1">end</span></code></pre><p>Now let's give it a try:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Example</span><span class="w">

</span><span class="n">macro_inspect</span><span class="p" data-group-id="2779638723-1">(</span><span class="mi">1</span><span class="p" data-group-id="2779638723-1">)</span><span class="w">
</span><span class="c1">#=&gt; 1</span><span class="w">
</span><span class="c1">#=&gt; 1</span><span class="w">

</span><span class="n">fun_inspect</span><span class="p" data-group-id="2779638723-2">(</span><span class="mi">1</span><span class="p" data-group-id="2779638723-2">)</span><span class="w">
</span><span class="c1">#=&gt; 1</span><span class="w">
</span><span class="c1">#=&gt; 1</span></code></pre><p>So far they behave the same, as we are passing an integer as argument.
But let's see what happens when we pass an expression:</p><pre><code class="makeup elixir" translate="no"><span class="n">macro_inspect</span><span class="p" data-group-id="3518848071-1">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3518848071-1">)</span><span class="w">
</span><span class="c1">#=&gt; {:+, [line: 3], [1, 2]}</span><span class="w">
</span><span class="c1">#=&gt; 3</span><span class="w">

</span><span class="n">fun_inspect</span><span class="p" data-group-id="3518848071-2">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3518848071-2">)</span><span class="w">
</span><span class="c1">#=&gt; 3</span><span class="w">
</span><span class="c1">#=&gt; 3</span></code></pre><p>The macro receives the representation of the code given as argument,
while a function receives the result of the code given as argument.
A macro must return a superset of the code representation. See
<a href="#t:input/0"><code class="inline">input/0</code></a> and <a href="#t:output/0"><code class="inline">output/0</code></a> for more information.</p><p>To learn more about Elixir's AST and how to build them programmatically,
see <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a>.</p><section role="note" class="admonition tip"><h4 class="admonition-title tip">Evaluating code</h4><p>The functions in this module do not evaluate code. In fact,
evaluating code from macros is often an anti-pattern. For code
evaluation, see the <a href="Code.html"><code class="inline">Code</code></a> module.</p></section>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:captured_remote_function/0" data-no-tooltip="" translate="no">captured_remote_function()</a>

      </div>

        <div class="summary-synopsis"><p>A captured remote function in the format of &amp;Mod.fun/arity</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:input/0" data-no-tooltip="" translate="no">input()</a>

      </div>

        <div class="summary-synopsis"><p>The inputs of a macro</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:metadata/0" data-no-tooltip="" translate="no">metadata()</a>

      </div>

        <div class="summary-synopsis"><p>A keyword list of AST metadata.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:output/0" data-no-tooltip="" translate="no">output()</a>

      </div>

        <div class="summary-synopsis"><p>The output of a macro</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:t/0" data-no-tooltip="" translate="no">t()</a>

      </div>

        <div class="summary-synopsis"><p>Abstract Syntax Tree (AST)</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#camelize/1" data-no-tooltip="" translate="no">camelize(string)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given string to CamelCase format.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#classify_atom/1" data-no-tooltip="" translate="no">classify_atom(atom)</a>

      </div>

        <div class="summary-synopsis"><p>Classifies an <code class="inline">atom</code> based on its possible AST placement.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_apply/4" data-no-tooltip="" translate="no">compile_apply(mod, fun, args, caller)</a>

      </div>

        <div class="summary-synopsis"><p>Applies a <code class="inline">mod</code>, <code class="inline">function</code>, and <code class="inline">args</code> at compile-time in <code class="inline">caller</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dbg/3" data-no-tooltip="" translate="no">dbg(code, options, env)</a>

      </div>

        <div class="summary-synopsis"><p>Default backend for <a href="Kernel.html#dbg/2"><code class="inline">Kernel.dbg/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#decompose_call/1" data-no-tooltip="" translate="no">decompose_call(ast)</a>

      </div>

        <div class="summary-synopsis"><p>Decomposes a local or remote call into its remote part (when provided),
function name and argument list.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#escape/2" data-no-tooltip="" translate="no">escape(expr, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Recursively escapes a value so it can be inserted into a syntax tree.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#expand/2" data-no-tooltip="" translate="no">expand(ast, env)</a>

      </div>

        <div class="summary-synopsis"><p>Receives an AST node and expands it until it can no longer
be expanded.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#expand_literals/2" data-no-tooltip="" translate="no">expand_literals(ast, env)</a>

      </div>

        <div class="summary-synopsis"><p>Expands all literals in <code class="inline">ast</code> with the given <code class="inline">env</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#expand_literals/3" data-no-tooltip="" translate="no">expand_literals(ast, acc, fun)</a>

      </div>

        <div class="summary-synopsis"><p>Expands all literals in <code class="inline">ast</code> with the given <code class="inline">acc</code> and <code class="inline">fun</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#expand_once/2" data-no-tooltip="" translate="no">expand_once(ast, env)</a>

      </div>

        <div class="summary-synopsis"><p>Receives an AST node and expands it once.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_arguments/2" data-no-tooltip="" translate="no">generate_arguments(amount, context)</a>

      </div>

        <div class="summary-synopsis"><p>Generates AST nodes for a given number of required argument
variables using <a href="#var/2"><code class="inline">Macro.var/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_unique_arguments/2" data-no-tooltip="" translate="no">generate_unique_arguments(amount, context)</a>

      </div>

        <div class="summary-synopsis"><p>Generates AST nodes for a given number of required argument
variables using <a href="#unique_var/2"><code class="inline">Macro.unique_var/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#inspect_atom/2" data-no-tooltip="" translate="no">inspect_atom(source_format, atom)</a>

      </div>

        <div class="summary-synopsis"><p>Inspects <code class="inline">atom</code> according to different source formats.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#operator?/2" data-no-tooltip="" translate="no">operator?(name, arity)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if the given name and arity is an operator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#path/2" data-no-tooltip="" translate="no">path(ast, fun)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the path to the node in <code class="inline">ast</code> for which <code class="inline">fun</code> returns a truthy value.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#pipe/3" data-no-tooltip="" translate="no">pipe(expr, call_args, position)</a>

      </div>

        <div class="summary-synopsis"><p>Pipes <code class="inline">expr</code> into the <code class="inline">call_args</code> at the given <code class="inline">position</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#postwalk/2" data-no-tooltip="" translate="no">postwalk(ast, fun)</a>

      </div>

        <div class="summary-synopsis"><p>This function behaves like <a href="#prewalk/2"><code class="inline">prewalk/2</code></a>, but performs a depth-first,
post-order traversal of quoted expressions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#postwalk/3" data-no-tooltip="" translate="no">postwalk(ast, acc, fun)</a>

      </div>

        <div class="summary-synopsis"><p>This functions behaves like <a href="#prewalk/3"><code class="inline">prewalk/3</code></a>, but performs a depth-first,
post-order traversal of quoted expressions using an accumulator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#postwalker/1" data-no-tooltip="" translate="no">postwalker(ast)</a>

      </div>

        <div class="summary-synopsis"><p>Returns an enumerable that traverses the  <code class="inline">ast</code> in depth-first,
post-order traversal.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prewalk/2" data-no-tooltip="" translate="no">prewalk(ast, fun)</a>

      </div>

        <div class="summary-synopsis"><p>Performs a depth-first, pre-order traversal of quoted expressions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prewalk/3" data-no-tooltip="" translate="no">prewalk(ast, acc, fun)</a>

      </div>

        <div class="summary-synopsis"><p>Performs a depth-first, pre-order traversal of quoted expressions
using an accumulator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prewalker/1" data-no-tooltip="" translate="no">prewalker(ast)</a>

      </div>

        <div class="summary-synopsis"><p>Returns an enumerable that traverses the  <code class="inline">ast</code> in depth-first,
pre-order traversal.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#quoted_literal?/1" data-no-tooltip="" translate="no">quoted_literal?(term)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if the given quoted expression represents a quoted literal.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#special_form?/2" data-no-tooltip="" translate="no">special_form?(name, arity)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if the given name and arity is a special form.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#struct!/2" data-no-tooltip="" translate="no">struct!(module, env)</a>

      </div>

        <div class="summary-synopsis"><p>Expands the struct given by <code class="inline">module</code> in the given <code class="inline">env</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_string/1" data-no-tooltip="" translate="no">to_string(tree)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given expression AST to a string.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_string/2" data-no-tooltip="" translate="no">to_string(tree, fun)</a>

          <span class="deprecated" title="Use Macro.to_string/1 instead">deprecated</span>

      </div>

        <div class="summary-synopsis"><p>Converts the given expression AST to a string.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#traverse/4" data-no-tooltip="" translate="no">traverse(ast, acc, pre, post)</a>

      </div>

        <div class="summary-synopsis"><p>Performs a depth-first traversal of quoted expressions
using an accumulator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#underscore/1" data-no-tooltip="" translate="no">underscore(atom_or_string)</a>

      </div>

        <div class="summary-synopsis"><p>Converts the given argument to a string with the underscore-slash format.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unescape_string/1" data-no-tooltip="" translate="no">unescape_string(string)</a>

      </div>

        <div class="summary-synopsis"><p>Unescapes characters in a string.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unescape_string/2" data-no-tooltip="" translate="no">unescape_string(string, map)</a>

      </div>

        <div class="summary-synopsis"><p>Unescapes characters in a string according to the given mapping.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unique_var/2" data-no-tooltip="" translate="no">unique_var(var, context)</a>

      </div>

        <div class="summary-synopsis"><p>Generates an AST node representing a unique variable
given by the atoms <code class="inline">var</code> and <code class="inline">context</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unpipe/1" data-no-tooltip="" translate="no">unpipe(expr)</a>

      </div>

        <div class="summary-synopsis"><p>Breaks a pipeline expression into a list.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_meta/2" data-no-tooltip="" translate="no">update_meta(quoted, fun)</a>

      </div>

        <div class="summary-synopsis"><p>Applies the given function to the node metadata if it contains one.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#validate/1" data-no-tooltip="" translate="no">validate(expr)</a>

      </div>

        <div class="summary-synopsis"><p>Validates the given expressions are valid quoted expressions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#var/2" data-no-tooltip="" translate="no">var(var, context)</a>

      </div>

        <div class="summary-synopsis"><p>Generates an AST node representing the variable given
by the atoms <code class="inline">var</code> and <code class="inline">context</code>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:captured_remote_function/0">

  <div class="detail-header">
    <a href="#t:captured_remote_function/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">captured_remote_function()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L184" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> captured_remote_function() :: (... -&gt; <a href="typespecs.html#basic-types">any</a>())</pre>

      </div>

<p>A captured remote function in the format of &amp;Mod.fun/arity</p>
  </section>
</section>
<section class="detail" id="t:input/0">

  <div class="detail-header">
    <a href="#t:input/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">input()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L72" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> input() ::
  input_expr() | {<a href="#t:input/0">input</a>(), <a href="#t:input/0">input</a>()} | [<a href="#t:input/0">input</a>()] | <a href="typespecs.html#basic-types">atom</a>() | <a href="typespecs.html#built-in-types">number</a>() | <a href="typespecs.html#built-in-types">binary</a>()</pre>

      </div>

<p>The inputs of a macro</p>
  </section>
</section>
<section class="detail" id="t:metadata/0">

  <div class="detail-header">
    <a href="#t:metadata/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">metadata()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L181" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> metadata() :: <a href="typespecs.html#built-in-types">keyword</a>()</pre>

      </div>

<p>A keyword list of AST metadata.</p><p>The metadata in Elixir AST is a keyword list of values. Any key can be used
and different parts of the compiler may use different keys. For example,
the AST received by a macro will always include the <code class="inline">:line</code> annotation,
while the AST emitted by <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a> will only have the <code class="inline">:line</code> annotation if
the <code class="inline">:line</code> option is provided.</p><p>The following metadata keys are public:</p><ul><li><p><code class="inline">:context</code> - Defines the context in which the AST was generated.
For example, <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a> will include the module calling <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a>
as the context. This is often used to distinguish regular code from code
generated by a macro or by <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a>.</p></li><li><p><code class="inline">:counter</code> - The variable counter used for variable hygiene. In terms of
the compiler, each variable is identified by the combination of either
<code class="inline">name</code> and <code class="inline">metadata[:counter]</code>, or <code class="inline">name</code> and <code class="inline">context</code>.</p></li><li><p><code class="inline">:from_brackets</code> - Used to determine whether a call to <a href="Access.html#get/3"><code class="inline">Access.get/3</code></a> is from
bracket syntax.</p></li><li><p><code class="inline">:from_interpolation</code> - Used to determine whether a call to <a href="Kernel.html#to_string/1"><code class="inline">Kernel.to_string/1</code></a> is
from interpolation.</p></li><li><p><code class="inline">:generated</code> - Whether the code should be considered as generated by
the compiler or not. This means the compiler and tools like Dialyzer may not
emit certain warnings.</p></li><li><p><code class="inline">:if_undefined</code> - How to expand a variable that is undefined. Set it to
<code class="inline">:apply</code> if you want a variable to become a nullary call without warning
or <code class="inline">:raise</code></p></li><li><p><code class="inline">:keep</code> - Used by <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a> with the option <code class="inline">location: :keep</code> to annotate
the file and the line number of the quoted source.</p></li><li><p><code class="inline">:line</code> - The line number of the AST node. Note line information is discarded
from quoted code but can be enabled back via the <code class="inline">:line</code> option.</p></li></ul><p>The following metadata keys are enabled by <a href="Code.html#string_to_quoted/2"><code class="inline">Code.string_to_quoted/2</code></a>:</p><ul><li><p><code class="inline">:closing</code> - contains metadata about the closing pair, such as a <code class="inline">}</code>
in a tuple or in a map, or such as the closing <code class="inline">)</code> in a function call
with parens (when <code class="inline">:token_metadata</code> is true). If the function call
has a do-end block attached to it, its metadata is found under the
<code class="inline">:do</code> and <code class="inline">:end</code> metadata</p></li><li><p><code class="inline">:column</code> - the column number of the AST node (when <code class="inline">:columns</code> is true).
Note column information is always discarded from quoted code.</p></li><li><p><code class="inline">:delimiter</code> - contains the opening delimiter for sigils, strings,
and charlists as a string (such as <code class="inline">&quot;{&quot;</code>, <code class="inline">&quot;/&quot;</code>, <code class="inline">&quot;'&quot;</code>, and the like)</p></li><li><p><code class="inline">:format</code> - set to <code class="inline">:keyword</code> when an atom is defined as a keyword</p></li><li><p><code class="inline">:do</code> - contains metadata about the <code class="inline">do</code> location in a function call with
<code class="inline">do</code>-<code class="inline">end</code> blocks (when <code class="inline">:token_metadata</code> is true)</p></li><li><p><code class="inline">:end</code> - contains metadata about the <code class="inline">end</code> location in a function call with
<code class="inline">do</code>-<code class="inline">end</code> blocks (when <code class="inline">:token_metadata</code> is true)</p></li><li><p><code class="inline">:end_of_expression</code> - denotes when the end of expression effectively
happens (when <code class="inline">:token_metadata</code> is true). This is only available for
expressions inside &quot;blocks of code&quot;, which are either direct children
of a <code class="inline">__block__</code> or the right side of <code class="inline">-&gt;</code>. The last expression of the
block does not have metadata if it is not followed by an end of line
character (either a newline or <code class="inline">;</code>)</p></li><li><p><code class="inline">:indentation</code> - indentation of a sigil heredoc</p></li></ul><p>The following metadata keys are private:</p><ul><li><code class="inline">:alias</code> - Used for alias hygiene.</li><li><code class="inline">:ambiguous_op</code> - Used for improved error messages in the compiler.</li><li><code class="inline">:imports</code> - Used for import hygiene.</li><li><code class="inline">:var</code> - Used for improved error messages on undefined variables.</li></ul><p>Do not rely on them as they may change or be fully removed in future versions
of the language. They are often used by <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a> and the compiler to provide
features like hygiene, better error messages, and so forth.</p><p>If you introduce custom keys into the AST metadata, please make sure to prefix
them with the name of your library or application, so that they will not conflict
with keys that could potentially be introduced by the compiler in the future.</p>
  </section>
</section>
<section class="detail" id="t:output/0">

  <div class="detail-header">
    <a href="#t:output/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">output()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L83" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> output() ::
  output_expr()
  | {<a href="#t:output/0">output</a>(), <a href="#t:output/0">output</a>()}
  | [<a href="#t:output/0">output</a>()]
  | <a href="typespecs.html#basic-types">atom</a>()
  | <a href="typespecs.html#built-in-types">number</a>()
  | <a href="typespecs.html#built-in-types">binary</a>()
  | <a href="#t:captured_remote_function/0">captured_remote_function</a>()
  | <a href="typespecs.html#basic-types">pid</a>()</pre>

      </div>

<p>The output of a macro</p>
  </section>
</section>
<section class="detail" id="t:t/0">

  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">t()</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L69" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> t() :: <a href="#t:input/0">input</a>()</pre>

      </div>

<p>Abstract Syntax Tree (AST)</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="camelize/1">

  <div class="detail-header">
    <a href="#camelize/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">camelize(string)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2240" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> camelize(<a href="String.html#t:t/0">String.t</a>()) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given string to CamelCase format.</p><p>This function was designed to camelize language identifiers/tokens,
that's why it belongs to the <a href="Macro.html"><code class="inline">Macro</code></a> module. Do not use it as a general
mechanism for camelizing strings as it does not support Unicode or
characters that are not valid in Elixir identifiers.</p><h2 id="camelize/1-examples" class="section-heading">
  <a href="#camelize/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="2456746395-1">(</span><span class="s">&quot;foo_bar&quot;</span><span class="p" data-group-id="2456746395-1">)</span><span class="w">
</span><span class="s">&quot;FooBar&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="2456746395-2">(</span><span class="s">&quot;foo/bar&quot;</span><span class="p" data-group-id="2456746395-2">)</span><span class="w">
</span><span class="s">&quot;Foo.Bar&quot;</span></code></pre><p>If uppercase characters are present, they are not modified in any way
as a mechanism to preserve acronyms:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="1025721241-1">(</span><span class="s">&quot;API.V1&quot;</span><span class="p" data-group-id="1025721241-1">)</span><span class="w">
</span><span class="s">&quot;API.V1&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="1025721241-2">(</span><span class="s">&quot;API_SPEC&quot;</span><span class="p" data-group-id="1025721241-2">)</span><span class="w">
</span><span class="s">&quot;API_SPEC&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="classify_atom/1">

  <div class="detail-header">
    <a href="#classify_atom/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">classify_atom(atom)</h1>

        <span class="note">(since 1.14.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2302" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> classify_atom(<a href="typespecs.html#basic-types">atom</a>()) :: :alias | :identifier | :quoted | :unquoted</pre>

      </div>

<p>Classifies an <code class="inline">atom</code> based on its possible AST placement.</p><p>It returns one of the following atoms:</p><ul><li><p><code class="inline">:alias</code> - the atom represents an alias</p></li><li><p><code class="inline">:identifier</code> - the atom can be used as a variable or local function
call (as well as be an unquoted atom)</p></li><li><p><code class="inline">:unquoted</code> - the atom can be used in its unquoted form,
includes operators and atoms with <code class="inline">@</code> in them</p></li><li><p><code class="inline">:quoted</code> - all other atoms which can only be used in their quoted form</p></li></ul><p>Most operators are going to be <code class="inline">:unquoted</code>, such as <code class="inline">:+</code>, with
some exceptions returning <code class="inline">:quoted</code> due to ambiguity, such as
<code class="inline">:&quot;::&quot;</code>. Use <a href="#operator?/2"><code class="inline">operator?/2</code></a> to check if a given atom is an operator.</p><h2 id="classify_atom/1-examples" class="section-heading">
  <a href="#classify_atom/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-1">(</span><span class="ss">:foo</span><span class="p" data-group-id="6050590720-1">)</span><span class="w">
</span><span class="ss">:identifier</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-2">(</span><span class="nc">Foo</span><span class="p" data-group-id="6050590720-2">)</span><span class="w">
</span><span class="ss">:alias</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-3">(</span><span class="ss">:foo@bar</span><span class="p" data-group-id="6050590720-3">)</span><span class="w">
</span><span class="ss">:unquoted</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-4">(</span><span class="ss">:+</span><span class="p" data-group-id="6050590720-4">)</span><span class="w">
</span><span class="ss">:unquoted</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-5">(</span><span class="ss">:Foo</span><span class="p" data-group-id="6050590720-5">)</span><span class="w">
</span><span class="ss">:unquoted</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">classify_atom</span><span class="p" data-group-id="6050590720-6">(</span><span class="ss">:&quot;with spaces&quot;</span><span class="p" data-group-id="6050590720-6">)</span><span class="w">
</span><span class="ss">:quoted</span></code></pre>
  </section>
</section>
<section class="detail" id="compile_apply/4">

  <div class="detail-header">
    <a href="#compile_apply/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compile_apply(mod, fun, args, caller)</h1>

        <span class="note">(since 1.16.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1718" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Applies a <code class="inline">mod</code>, <code class="inline">function</code>, and <code class="inline">args</code> at compile-time in <code class="inline">caller</code>.</p><p>This is used when you want to programmatically invoke a macro at
compile-time.</p>
  </section>
</section>
<section class="detail" id="dbg/3">

  <div class="detail-header">
    <a href="#dbg/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dbg(code, options, env)</h1>

        <span class="note">(since 1.14.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2534" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> dbg(<a href="#t:t/0">t</a>(), <a href="#t:t/0">t</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Default backend for <a href="Kernel.html#dbg/2"><code class="inline">Kernel.dbg/2</code></a>.</p><p>This function provides a default backend for <a href="Kernel.html#dbg/2"><code class="inline">Kernel.dbg/2</code></a>. See the
<a href="Kernel.html#dbg/2"><code class="inline">Kernel.dbg/2</code></a> documentation for more information.</p><p>This function:</p><ul><li>prints information about the given <code class="inline">env</code></li><li>prints information about <code class="inline">code</code> and its returned value (using <code class="inline">opts</code> to inspect terms)</li><li>returns the value returned by evaluating <code class="inline">code</code></li></ul><p>You can call this function directly to build <a href="Kernel.html#dbg/2"><code class="inline">Kernel.dbg/2</code></a> backends that fall back
to this function.</p><p>This function raises if the context of the given <code class="inline">env</code> is <code class="inline">:match</code> or <code class="inline">:guard</code>.</p>
  </section>
</section>
<section class="detail" id="decompose_call/1">

  <div class="detail-header">
    <a href="#decompose_call/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decompose_call(ast)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L749" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> decompose_call(<a href="#t:t/0">t</a>()) :: {<a href="typespecs.html#basic-types">atom</a>(), [<a href="#t:t/0">t</a>()]} | {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">atom</a>(), [<a href="#t:t/0">t</a>()]} | :error</pre>

      </div>

<p>Decomposes a local or remote call into its remote part (when provided),
function name and argument list.</p><p>Returns <code class="inline">:error</code> when an invalid call syntax is provided.</p><h2 id="decompose_call/1-examples" class="section-heading">
  <a href="#decompose_call/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-1">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-2">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="p" data-group-id="3466668196-2">)</span><span class="p" data-group-id="3466668196-1">)</span><span class="w">
</span><span class="p" data-group-id="3466668196-3">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-4">[</span><span class="p" data-group-id="3466668196-4">]</span><span class="p" data-group-id="3466668196-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-5">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-6">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="p" data-group-id="3466668196-7">(</span><span class="p" data-group-id="3466668196-7">)</span><span class="p" data-group-id="3466668196-6">)</span><span class="p" data-group-id="3466668196-5">)</span><span class="w">
</span><span class="p" data-group-id="3466668196-8">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-9">[</span><span class="p" data-group-id="3466668196-9">]</span><span class="p" data-group-id="3466668196-8">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-10">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-11">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="p" data-group-id="3466668196-12">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3466668196-12">)</span><span class="p" data-group-id="3466668196-11">)</span><span class="p" data-group-id="3466668196-10">)</span><span class="w">
</span><span class="p" data-group-id="3466668196-13">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-14">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3466668196-14">]</span><span class="p" data-group-id="3466668196-13">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-15">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-16">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Elixir.M</span><span class="o">.</span><span class="n">foo</span><span class="p" data-group-id="3466668196-17">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3466668196-17">)</span><span class="p" data-group-id="3466668196-16">)</span><span class="p" data-group-id="3466668196-15">)</span><span class="w">
</span><span class="p" data-group-id="3466668196-18">{</span><span class="p" data-group-id="3466668196-19">{</span><span class="ss">:__aliases__</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-20">[</span><span class="p" data-group-id="3466668196-20">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-21">[</span><span class="ss">:Elixir</span><span class="p">,</span><span class="w"> </span><span class="ss">:M</span><span class="p" data-group-id="3466668196-21">]</span><span class="p" data-group-id="3466668196-19">}</span><span class="p">,</span><span class="w"> </span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-22">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3466668196-22">]</span><span class="p" data-group-id="3466668196-18">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-23">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-24">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="3466668196-24">)</span><span class="p" data-group-id="3466668196-23">)</span><span class="w">
</span><span class="ss">:error</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">decompose_call</span><span class="p" data-group-id="3466668196-25">(</span><span class="k">quote</span><span class="p" data-group-id="3466668196-26">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3466668196-27">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-28">[</span><span class="p" data-group-id="3466668196-28">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3466668196-29">[</span><span class="p" data-group-id="3466668196-29">]</span><span class="p" data-group-id="3466668196-27">}</span><span class="p" data-group-id="3466668196-26">)</span><span class="p" data-group-id="3466668196-25">)</span><span class="w">
</span><span class="ss">:error</span></code></pre>
  </section>
</section>
<section class="detail" id="escape/2">

    <span id="escape/1"></span>

  <div class="detail-header">
    <a href="#escape/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">escape(expr, opts \\ [])</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L824" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> escape(
  <a href="typespecs.html#built-in-types">term</a>(),
  <a href="typespecs.html#built-in-types">keyword</a>()
) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Recursively escapes a value so it can be inserted into a syntax tree.</p><h2 id="escape/2-examples" class="section-heading">
  <a href="#escape/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">escape</span><span class="p" data-group-id="5949489905-1">(</span><span class="ss">:foo</span><span class="p" data-group-id="5949489905-1">)</span><span class="w">
</span><span class="ss">:foo</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">escape</span><span class="p" data-group-id="5949489905-2">(</span><span class="p" data-group-id="5949489905-3">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="5949489905-3">}</span><span class="p" data-group-id="5949489905-2">)</span><span class="w">
</span><span class="p" data-group-id="5949489905-4">{</span><span class="ss">:{}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5949489905-5">[</span><span class="p" data-group-id="5949489905-5">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5949489905-6">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="5949489905-6">]</span><span class="p" data-group-id="5949489905-4">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">escape</span><span class="p" data-group-id="5949489905-7">(</span><span class="p" data-group-id="5949489905-8">{</span><span class="ss">:unquote</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5949489905-9">[</span><span class="p" data-group-id="5949489905-9">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5949489905-10">[</span><span class="mi">1</span><span class="p" data-group-id="5949489905-10">]</span><span class="p" data-group-id="5949489905-8">}</span><span class="p">,</span><span class="w"> </span><span class="ss">unquote</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="5949489905-7">)</span><span class="w">
</span><span class="mi">1</span></code></pre><h2 id="escape/2-options" class="section-heading">
  <a href="#escape/2-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:unquote</code> - when true, this function leaves <a href="Kernel.SpecialForms.html#unquote/1"><code class="inline">unquote/1</code></a> and
<a href="Kernel.SpecialForms.html#unquote_splicing/1"><code class="inline">unquote_splicing/1</code></a> statements unescaped, effectively unquoting
the contents on escape. This option is useful only when escaping
ASTs which may have quoted fragments in them. Defaults to false.</p></li><li><p><code class="inline">:prune_metadata</code> - when true, removes metadata from escaped AST
nodes. Note this option changes the semantics of escaped code and
it should only be used when escaping ASTs. Defaults to false.</p><p>As an example, <a href="https://hexdocs.pm/ex_unit/ExUnit.html"><code class="inline">ExUnit</code></a> stores the AST of every assertion, so when
an assertion fails we can show code snippets to users. Without this
option, each time the test module is compiled, we get a different
MD5 of the module bytecode, because the AST contains metadata,
such as counters, specific to the compilation environment. By pruning
the metadata, we ensure that the module is deterministic and reduce
the amount of data <a href="https://hexdocs.pm/ex_unit/ExUnit.html"><code class="inline">ExUnit</code></a> needs to keep around. Only the minimal
amount of metadata is kept, such as <code class="inline">:line</code> and <code class="inline">:no_parens</code>.</p></li></ul><h2 id="escape/2-comparison-to-quote-2" class="section-heading">
  <a href="#escape/2-comparison-to-quote-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Comparison to <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a></span>
</h2>
<p>The <a href="#escape/2"><code class="inline">escape/2</code></a> function is sometimes confused with <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a>,
because the above examples behave the same with both. The key difference is
best illustrated when the value to escape is stored in a variable.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">escape</span><span class="p" data-group-id="8382047011-1">(</span><span class="p" data-group-id="8382047011-2">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-2">}</span><span class="p" data-group-id="8382047011-1">)</span><span class="w">
</span><span class="p" data-group-id="8382047011-3">{</span><span class="ss">:{}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-4">[</span><span class="p" data-group-id="8382047011-4">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-5">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-5">]</span><span class="p" data-group-id="8382047011-3">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8382047011-6">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-6">}</span><span class="w">
</span><span class="p" data-group-id="8382047011-7">{</span><span class="ss">:{}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-8">[</span><span class="p" data-group-id="8382047011-8">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-9">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-9">]</span><span class="p" data-group-id="8382047011-7">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8382047011-10">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-10">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">escape</span><span class="p" data-group-id="8382047011-11">(</span><span class="n">value</span><span class="p" data-group-id="8382047011-11">)</span><span class="w">
</span><span class="p" data-group-id="8382047011-12">{</span><span class="ss">:{}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-13">[</span><span class="p" data-group-id="8382047011-13">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-14">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-14">]</span><span class="p" data-group-id="8382047011-12">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="w">
</span><span class="p" data-group-id="8382047011-15">{</span><span class="ss">:value</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8382047011-16">[</span><span class="p" data-group-id="8382047011-16">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="8382047011-15">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8382047011-17">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-17">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="k">unquote</span><span class="p" data-group-id="8382047011-18">(</span><span class="n">value</span><span class="p" data-group-id="8382047011-18">)</span><span class="w">
</span><span class="p" data-group-id="8382047011-19">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p" data-group-id="8382047011-19">}</span></code></pre><p><a href="#escape/2"><code class="inline">escape/2</code></a> is used to escape <em>values</em> (either directly passed or variable
bound), while <a href="Kernel.SpecialForms.html#quote/2"><code class="inline">quote/2</code></a> produces syntax trees for
expressions.</p>
  </section>
</section>
<section class="detail" id="expand/2">

  <div class="detail-header">
    <a href="#expand/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">expand(ast, env)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2124" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> expand(<a href="#t:input/0">input</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>()) :: <a href="#t:output/0">output</a>()</pre>

      </div>

<p>Receives an AST node and expands it until it can no longer
be expanded.</p><p>Note this function does not traverse the AST, only the root
node is expanded.</p><p>This function uses <a href="#expand_once/2"><code class="inline">expand_once/2</code></a> under the hood. Check
it out for more information and examples.</p>
  </section>
</section>
<section class="detail" id="expand_literals/2">

  <div class="detail-header">
    <a href="#expand_literals/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">expand_literals(ast, env)</h1>

        <span class="note">(since 1.14.1)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2044" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> expand_literals(<a href="#t:input/0">input</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>()) :: <a href="#t:output/0">output</a>()</pre>

      </div>

<p>Expands all literals in <code class="inline">ast</code> with the given <code class="inline">env</code>.</p><p>This function is mostly used to remove compile-time dependencies
from AST nodes. In such cases, the given environment is usually
manipulated to represent a function:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Macro</span><span class="o">.</span><span class="n">expand_literals</span><span class="p" data-group-id="9669405029-1">(</span><span class="n">ast</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9669405029-2">%{</span><span class="n">env</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">function</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9669405029-3">{</span><span class="ss">:my_code</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9669405029-3">}</span><span class="p" data-group-id="9669405029-2">}</span><span class="p" data-group-id="9669405029-1">)</span></code></pre><p>At the moment, the only expandable literal nodes in an AST are
aliases, so this function only expands aliases (and it does so
anywhere in a literal).</p><p>However, be careful when removing compile-time dependencies between
modules. If you remove them but you still invoke the module at
compile-time, Elixir will be unable to properly recompile modules
when they change.</p>
  </section>
</section>
<section class="detail" id="expand_literals/3">

  <div class="detail-header">
    <a href="#expand_literals/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">expand_literals(ast, acc, fun)</h1>

        <span class="note">(since 1.14.1)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2059" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> expand_literals(<a href="#t:t/0">t</a>(), acc, (<a href="#t:t/0">t</a>(), acc -&gt; {<a href="#t:t/0">t</a>(), acc})) :: <a href="#t:t/0">t</a>() when acc: <a href="typespecs.html#built-in-types">term</a>()</pre>

      </div>

<p>Expands all literals in <code class="inline">ast</code> with the given <code class="inline">acc</code> and <code class="inline">fun</code>.</p><p><code class="inline">fun</code> will be invoked with an expandable AST node and <code class="inline">acc</code> and
must return a new node with <code class="inline">acc</code>. This is a general version of
<a href="#expand_literals/2"><code class="inline">expand_literals/2</code></a> which supports a custom expansion function.
Please check <a href="#expand_literals/2"><code class="inline">expand_literals/2</code></a> for use cases and pitfalls.</p>
  </section>
</section>
<section class="detail" id="expand_once/2">

  <div class="detail-header">
    <a href="#expand_once/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">expand_once(ast, env)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1804" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> expand_once(<a href="#t:input/0">input</a>(), <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>()) :: <a href="#t:output/0">output</a>()</pre>

      </div>

<p>Receives an AST node and expands it once.</p><p>The following contents are expanded:</p><ul><li>Macros (local or remote)</li><li>Aliases are expanded (if possible) and return atoms</li><li>Compilation environment macros (<a href="Kernel.SpecialForms.html#__CALLER__/0"><code class="inline">__CALLER__/0</code></a>, <a href="Kernel.SpecialForms.html#__DIR__/0"><code class="inline">__DIR__/0</code></a>, <a href="Kernel.SpecialForms.html#__ENV__/0"><code class="inline">__ENV__/0</code></a> and <a href="Kernel.SpecialForms.html#__MODULE__/0"><code class="inline">__MODULE__/0</code></a>)</li><li>Module attributes reader (<code class="inline">@foo</code>)</li></ul><p>If the expression cannot be expanded, it returns the expression
itself. This function does not traverse the AST, only the root
node is expanded. The expansion happens as if it was expanded by
the Elixir compiler and therefore compilation tracers will be invoked
and deprecation warnings will be emitted during the expansion.</p><p><a href="#expand_once/2"><code class="inline">expand_once/2</code></a> performs the expansion just once. Check <a href="#expand/2"><code class="inline">expand/2</code></a>
to perform expansion until the node can no longer be expanded.</p><h2 id="expand_once/2-examples" class="section-heading">
  <a href="#expand_once/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>In the example below, we have a macro that generates a module
with a function named <code class="inline">name_length</code> that returns the length
of the module name. The value of this function will be calculated
at compilation time and not at runtime.</p><p>Consider the implementation below:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmacro</span><span class="w"> </span><span class="nf">defmodule_with_length</span><span class="p" data-group-id="5271533955-1">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">block</span><span class="p" data-group-id="5271533955-1">)</span><span class="w"> </span><span class="k" data-group-id="5271533955-2">do</span><span class="w">
  </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="p" data-group-id="5271533955-3">(</span><span class="nc">Atom</span><span class="o">.</span><span class="n">to_charlist</span><span class="p" data-group-id="5271533955-4">(</span><span class="n">name</span><span class="p" data-group-id="5271533955-4">)</span><span class="p" data-group-id="5271533955-3">)</span><span class="w">

  </span><span class="k">quote</span><span class="w"> </span><span class="k" data-group-id="5271533955-5">do</span><span class="w">
    </span><span class="kd">defmodule</span><span class="w"> </span><span class="k">unquote</span><span class="p" data-group-id="5271533955-6">(</span><span class="n">name</span><span class="p" data-group-id="5271533955-6">)</span><span class="w"> </span><span class="k" data-group-id="5271533955-7">do</span><span class="w">
      </span><span class="kd">def</span><span class="w"> </span><span class="nf">name_length</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="k">unquote</span><span class="p" data-group-id="5271533955-8">(</span><span class="n">length</span><span class="p" data-group-id="5271533955-8">)</span><span class="w">
      </span><span class="k">unquote</span><span class="p" data-group-id="5271533955-9">(</span><span class="n">block</span><span class="p" data-group-id="5271533955-9">)</span><span class="w">
    </span><span class="k" data-group-id="5271533955-7">end</span><span class="w">
  </span><span class="k" data-group-id="5271533955-5">end</span><span class="w">
</span><span class="k" data-group-id="5271533955-2">end</span></code></pre><p>When invoked like this:</p><pre><code class="makeup elixir" translate="no"><span class="n">defmodule_with_length</span><span class="w"> </span><span class="nc">My.Module</span><span class="w"> </span><span class="k" data-group-id="8034606209-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">other_function</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">...</span><span class="w">
</span><span class="k" data-group-id="8034606209-1">end</span></code></pre><p>The compilation will fail because <code class="inline">My.Module</code> when quoted
is not an atom, but a syntax tree as follows:</p><pre><code class="makeup elixir" translate="no"><span class="p" data-group-id="3225831991-1">{</span><span class="ss">:__aliases__</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3225831991-2">[</span><span class="p" data-group-id="3225831991-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3225831991-3">[</span><span class="ss">:My</span><span class="p">,</span><span class="w"> </span><span class="ss">:Module</span><span class="p" data-group-id="3225831991-3">]</span><span class="p" data-group-id="3225831991-1">}</span></code></pre><p>That said, we need to expand the aliases node above to an
atom, so we can retrieve its length. Expanding the node is
not straightforward because we also need to expand the
caller aliases. For example:</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">MyHelpers</span><span class="p">,</span><span class="w"> </span><span class="ss">as</span><span class="p">:</span><span class="w"> </span><span class="nc">My</span><span class="w">

</span><span class="n">defmodule_with_length</span><span class="w"> </span><span class="nc">My.Module</span><span class="w"> </span><span class="k" data-group-id="7830465942-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">other_function</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">...</span><span class="w">
</span><span class="k" data-group-id="7830465942-1">end</span></code></pre><p>The final module name will be <code class="inline">MyHelpers.Module</code> and not
<code class="inline">My.Module</code>. With <a href="#expand/2"><code class="inline">Macro.expand/2</code></a>, such aliases are taken
into consideration. Local and remote macros are also
expanded. We could rewrite our macro above to use this
function as:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmacro</span><span class="w"> </span><span class="nf">defmodule_with_length</span><span class="p" data-group-id="3801804304-1">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">block</span><span class="p" data-group-id="3801804304-1">)</span><span class="w"> </span><span class="k" data-group-id="3801804304-2">do</span><span class="w">
  </span><span class="n">expanded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">expand</span><span class="p" data-group-id="3801804304-3">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="bp">__CALLER__</span><span class="p" data-group-id="3801804304-3">)</span><span class="w">
  </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="p" data-group-id="3801804304-4">(</span><span class="nc">Atom</span><span class="o">.</span><span class="n">to_charlist</span><span class="p" data-group-id="3801804304-5">(</span><span class="n">expanded</span><span class="p" data-group-id="3801804304-5">)</span><span class="p" data-group-id="3801804304-4">)</span><span class="w">

  </span><span class="k">quote</span><span class="w"> </span><span class="k" data-group-id="3801804304-6">do</span><span class="w">
    </span><span class="kd">defmodule</span><span class="w"> </span><span class="k">unquote</span><span class="p" data-group-id="3801804304-7">(</span><span class="n">name</span><span class="p" data-group-id="3801804304-7">)</span><span class="w"> </span><span class="k" data-group-id="3801804304-8">do</span><span class="w">
      </span><span class="kd">def</span><span class="w"> </span><span class="nf">name_length</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="k">unquote</span><span class="p" data-group-id="3801804304-9">(</span><span class="n">length</span><span class="p" data-group-id="3801804304-9">)</span><span class="w">
      </span><span class="k">unquote</span><span class="p" data-group-id="3801804304-10">(</span><span class="n">block</span><span class="p" data-group-id="3801804304-10">)</span><span class="w">
    </span><span class="k" data-group-id="3801804304-8">end</span><span class="w">
  </span><span class="k" data-group-id="3801804304-6">end</span><span class="w">
</span><span class="k" data-group-id="3801804304-2">end</span></code></pre>
  </section>
</section>
<section class="detail" id="generate_arguments/2">

  <div class="detail-header">
    <a href="#generate_arguments/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">generate_arguments(amount, context)</h1>

        <span class="note">(since 1.5.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L385" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> generate_arguments(0, context :: <a href="typespecs.html#basic-types">atom</a>()) :: []</pre>

          <pre translate="no"><span class="attribute">@spec</span> generate_arguments(<a href="typespecs.html#basic-types">pos_integer</a>(), context) :: [{<a href="typespecs.html#basic-types">atom</a>(), [], context}, ...]
when context: <a href="typespecs.html#basic-types">atom</a>()</pre>

      </div>

<p>Generates AST nodes for a given number of required argument
variables using <a href="#var/2"><code class="inline">Macro.var/2</code></a>.</p><p>Note the arguments are not unique. If you later on want
to access the same variables, you can invoke this function
with the same inputs. Use <a href="#generate_unique_arguments/2"><code class="inline">generate_unique_arguments/2</code></a> to
generate unique arguments that can't be overridden.</p><h2 id="generate_arguments/2-examples" class="section-heading">
  <a href="#generate_arguments/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">generate_arguments</span><span class="p" data-group-id="9027277743-1">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="9027277743-1">)</span><span class="w">
</span><span class="p" data-group-id="9027277743-2">[</span><span class="p" data-group-id="9027277743-3">{</span><span class="ss">:arg1</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9027277743-4">[</span><span class="p" data-group-id="9027277743-4">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="9027277743-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9027277743-5">{</span><span class="ss">:arg2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9027277743-6">[</span><span class="p" data-group-id="9027277743-6">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="9027277743-5">}</span><span class="p" data-group-id="9027277743-2">]</span></code></pre>
  </section>
</section>
<section class="detail" id="generate_unique_arguments/2">

  <div class="detail-header">
    <a href="#generate_unique_arguments/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">generate_unique_arguments(amount, context)</h1>

        <span class="note">(since 1.11.3)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L501" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> generate_unique_arguments(0, context :: <a href="typespecs.html#basic-types">atom</a>()) :: []</pre>

          <pre translate="no"><span class="attribute">@spec</span> generate_unique_arguments(<a href="typespecs.html#basic-types">pos_integer</a>(), context) :: [
  {<a href="typespecs.html#basic-types">atom</a>(), [{:counter, <a href="typespecs.html#basic-types">integer</a>()}], context},
  ...
]
when context: <a href="typespecs.html#basic-types">atom</a>()</pre>

      </div>

<p>Generates AST nodes for a given number of required argument
variables using <a href="#unique_var/2"><code class="inline">Macro.unique_var/2</code></a>.</p><h2 id="generate_unique_arguments/2-examples" class="section-heading">
  <a href="#generate_unique_arguments/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2997482976-1">[</span><span class="n">var1</span><span class="p">,</span><span class="w"> </span><span class="n">var2</span><span class="p" data-group-id="2997482976-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">generate_unique_arguments</span><span class="p" data-group-id="2997482976-2">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="2997482976-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2997482976-3">{</span><span class="ss">:arg1</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2997482976-4">[</span><span class="ss">counter</span><span class="p">:</span><span class="w"> </span><span class="n">c1</span><span class="p" data-group-id="2997482976-4">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="2997482976-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var1</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2997482976-5">{</span><span class="ss">:arg2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2997482976-6">[</span><span class="ss">counter</span><span class="p">:</span><span class="w"> </span><span class="n">c2</span><span class="p" data-group-id="2997482976-6">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="2997482976-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var2</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">is_integer</span><span class="p" data-group-id="2997482976-7">(</span><span class="n">c1</span><span class="p" data-group-id="2997482976-7">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is_integer</span><span class="p" data-group-id="2997482976-8">(</span><span class="n">c2</span><span class="p" data-group-id="2997482976-8">)</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</section>
<section class="detail" id="inspect_atom/2">

  <div class="detail-header">
    <a href="#inspect_atom/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">inspect_atom(source_format, atom)</h1>

        <span class="note">(since 1.14.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2368" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> inspect_atom(:literal | :key | :remote_call, <a href="typespecs.html#basic-types">atom</a>()) :: <a href="typespecs.html#built-in-types">binary</a>()</pre>

      </div>

<p>Inspects <code class="inline">atom</code> according to different source formats.</p><p>The atom can be inspected according to the three different
formats it appears in the AST: as a literal (<code class="inline">:literal</code>),
as a key (<code class="inline">:key</code>), or as the function name of a remote call
(<code class="inline">:remote_call</code>).</p><h2 id="inspect_atom/2-examples" class="section-heading">
  <a href="#inspect_atom/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<h3 id="inspect_atom/2-as-a-literal" class="section-heading">
  <a href="#inspect_atom/2-as-a-literal" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">As a literal</span>
</h3>
<p>Literals include regular atoms, quoted atoms, operators,
aliases, and the special <code class="inline">nil</code>, <code class="inline">true</code>, and <code class="inline">false</code> atoms.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-1">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="5362441734-1">)</span><span class="w">
</span><span class="s">&quot;nil&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-2">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="ss">:foo</span><span class="p" data-group-id="5362441734-2">)</span><span class="w">
</span><span class="s">&quot;:foo&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-3">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="ss">:&lt;&gt;</span><span class="p" data-group-id="5362441734-3">)</span><span class="w">
</span><span class="s">&quot;:&lt;&gt;&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-4">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="ss">:Foo</span><span class="p" data-group-id="5362441734-4">)</span><span class="w">
</span><span class="s">&quot;:Foo&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-5">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="nc">Foo.Bar</span><span class="p" data-group-id="5362441734-5">)</span><span class="w">
</span><span class="s">&quot;Foo.Bar&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="5362441734-6">(</span><span class="ss">:literal</span><span class="p">,</span><span class="w"> </span><span class="ss">:&quot;with spaces&quot;</span><span class="p" data-group-id="5362441734-6">)</span><span class="w">
</span><span class="s">&quot;:</span><span class="se">\&quot;</span><span class="s">with spaces</span><span class="se">\&quot;</span><span class="s">&quot;</span></code></pre><h3 id="inspect_atom/2-as-a-key" class="section-heading">
  <a href="#inspect_atom/2-as-a-key" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">As a key</span>
</h3>
<p>Inspect an atom as a key of a keyword list or a map.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="0449491901-1">(</span><span class="ss">:key</span><span class="p">,</span><span class="w"> </span><span class="ss">:foo</span><span class="p" data-group-id="0449491901-1">)</span><span class="w">
</span><span class="s">&quot;foo:&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="0449491901-2">(</span><span class="ss">:key</span><span class="p">,</span><span class="w"> </span><span class="ss">:&lt;&gt;</span><span class="p" data-group-id="0449491901-2">)</span><span class="w">
</span><span class="s">&quot;&lt;&gt;:&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="0449491901-3">(</span><span class="ss">:key</span><span class="p">,</span><span class="w"> </span><span class="ss">:Foo</span><span class="p" data-group-id="0449491901-3">)</span><span class="w">
</span><span class="s">&quot;Foo:&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="0449491901-4">(</span><span class="ss">:key</span><span class="p">,</span><span class="w"> </span><span class="ss">:&quot;with spaces&quot;</span><span class="p" data-group-id="0449491901-4">)</span><span class="w">
</span><span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">with spaces</span><span class="se">\&quot;</span><span class="s">:&quot;</span></code></pre><h3 id="inspect_atom/2-as-a-remote-call" class="section-heading">
  <a href="#inspect_atom/2-as-a-remote-call" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">As a remote call</span>
</h3>
<p>Inspect an atom the function name of a remote call.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="8783006894-1">(</span><span class="ss">:remote_call</span><span class="p">,</span><span class="w"> </span><span class="ss">:foo</span><span class="p" data-group-id="8783006894-1">)</span><span class="w">
</span><span class="s">&quot;foo&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="8783006894-2">(</span><span class="ss">:remote_call</span><span class="p">,</span><span class="w"> </span><span class="ss">:&lt;&gt;</span><span class="p" data-group-id="8783006894-2">)</span><span class="w">
</span><span class="s">&quot;&lt;&gt;&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="8783006894-3">(</span><span class="ss">:remote_call</span><span class="p">,</span><span class="w"> </span><span class="ss">:Foo</span><span class="p" data-group-id="8783006894-3">)</span><span class="w">
</span><span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">Foo</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">inspect_atom</span><span class="p" data-group-id="8783006894-4">(</span><span class="ss">:remote_call</span><span class="p">,</span><span class="w"> </span><span class="ss">:&quot;with spaces&quot;</span><span class="p" data-group-id="8783006894-4">)</span><span class="w">
</span><span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">with spaces</span><span class="se">\&quot;</span><span class="s">&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="operator?/2">

  <div class="detail-header">
    <a href="#operator?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">operator?(name, arity)</h1>

        <span class="note">(since 1.7.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1934" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> operator?(name :: <a href="typespecs.html#basic-types">atom</a>(), <a href="typespecs.html#built-in-types">arity</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Returns <code class="inline">true</code> if the given name and arity is an operator.</p><h2 id="operator?/2-examples" class="section-heading">
  <a href="#operator?/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">operator?</span><span class="p" data-group-id="5762445138-1">(</span><span class="ss">:not_an_operator</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="5762445138-1">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">operator?</span><span class="p" data-group-id="5762445138-2">(</span><span class="ss">:..</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="5762445138-2">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">operator?</span><span class="p" data-group-id="5762445138-3">(</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="5762445138-3">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">operator?</span><span class="p" data-group-id="5762445138-4">(</span><span class="ss">:++</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="5762445138-4">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">operator?</span><span class="p" data-group-id="5762445138-5">(</span><span class="ss">:..//</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="5762445138-5">)</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</section>
<section class="detail" id="path/2">

  <div class="detail-header">
    <a href="#path/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">path(ast, fun)</h1>

        <span class="note">(since 1.14.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L422" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> path(<a href="#t:t/0">t</a>(), (<a href="#t:t/0">t</a>() -&gt; <a href="typespecs.html#built-in-types">as_boolean</a>(<a href="typespecs.html#built-in-types">term</a>()))) :: [<a href="#t:t/0">t</a>()] | nil</pre>

      </div>

<p>Returns the path to the node in <code class="inline">ast</code> for which <code class="inline">fun</code> returns a truthy value.</p><p>The path is a list, starting with the node in which <code class="inline">fun</code> returns
a truthy value, followed by all of its parents.</p><p>Returns <code class="inline">nil</code> if <code class="inline">fun</code> returns only falsy values.</p><p>Computing the path can be an efficient operation when you want
to find a particular node in the AST within its context and then
assert something about it.</p><h2 id="path/2-examples" class="section-heading">
  <a href="#path/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">path</span><span class="p" data-group-id="0627382739-1">(</span><span class="k">quote</span><span class="p" data-group-id="0627382739-2">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0627382739-3">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0627382739-3">]</span><span class="p" data-group-id="0627382739-2">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0627382739-1">)</span><span class="w">
</span><span class="p" data-group-id="0627382739-4">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0627382739-5">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0627382739-5">]</span><span class="p" data-group-id="0627382739-4">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">path</span><span class="p" data-group-id="0627382739-6">(</span><span class="k">quote</span><span class="p" data-group-id="0627382739-7">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0627382739-8">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0627382739-8">]</span><span class="p" data-group-id="0627382739-7">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="0627382739-6">)</span><span class="w">
</span><span class="no">nil</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">path</span><span class="p" data-group-id="0627382739-9">(</span><span class="k">quote</span><span class="p" data-group-id="0627382739-10">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Foo</span><span class="o">.</span><span class="n">bar</span><span class="p" data-group-id="0627382739-11">(</span><span class="mi">3</span><span class="p" data-group-id="0627382739-11">)</span><span class="p" data-group-id="0627382739-10">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0627382739-9">)</span><span class="w">
</span><span class="p" data-group-id="0627382739-12">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="k">quote</span><span class="p" data-group-id="0627382739-13">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Foo</span><span class="o">.</span><span class="n">bar</span><span class="p" data-group-id="0627382739-14">(</span><span class="mi">3</span><span class="p" data-group-id="0627382739-14">)</span><span class="p" data-group-id="0627382739-13">)</span><span class="p" data-group-id="0627382739-12">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">path</span><span class="p" data-group-id="0627382739-15">(</span><span class="k">quote</span><span class="p" data-group-id="0627382739-16">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0627382739-17">%{</span><span class="ss">foo</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0627382739-18">[</span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-18">]</span><span class="p" data-group-id="0627382739-17">}</span><span class="p" data-group-id="0627382739-16">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-15">)</span><span class="w">
</span><span class="p" data-group-id="0627382739-19">[</span><span class="w">
  </span><span class="ss">:baz</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="0627382739-20">{</span><span class="ss">:bar</span><span class="p">,</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-20">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="0627382739-21">[</span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-21">]</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="0627382739-22">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0627382739-23">[</span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-23">]</span><span class="p" data-group-id="0627382739-22">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="0627382739-24">{</span><span class="ss">:%{}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0627382739-25">[</span><span class="p" data-group-id="0627382739-25">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0627382739-26">[</span><span class="ss">foo</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0627382739-27">[</span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="0627382739-27">]</span><span class="p" data-group-id="0627382739-26">]</span><span class="p" data-group-id="0627382739-24">}</span><span class="w">
</span><span class="p" data-group-id="0627382739-19">]</span></code></pre>
  </section>
</section>
<section class="detail" id="pipe/3">

  <div class="detail-header">
    <a href="#pipe/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">pipe(expr, call_args, position)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L247" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> pipe(<a href="#t:t/0">t</a>(), <a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">integer</a>()) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Pipes <code class="inline">expr</code> into the <code class="inline">call_args</code> at the given <code class="inline">position</code>.</p><p>This function can be used to implement <code class="inline">|&gt;</code> like functionality. For example,
<code class="inline">|&gt;</code> itself is implemented as:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmacro</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="k" data-group-id="9815810256-1">do</span><span class="w">
  </span><span class="nc">Macro</span><span class="o">.</span><span class="n">pipe</span><span class="p" data-group-id="9815810256-2">(</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="9815810256-2">)</span><span class="w">
</span><span class="k" data-group-id="9815810256-1">end</span></code></pre><p><code class="inline">expr</code> is the AST of an expression. <code class="inline">call_args</code> must be the AST <em>of a call</em>,
otherwise this function will raise an error. As an example, consider the pipe
operator <a href="Kernel.html#%7C%3E/2"><code class="inline">|&gt;/2</code></a>, which uses this function to build pipelines.</p><p>Even if the expression is piped into the AST, it doesn't necessarily mean that
the AST is valid. For example, you could pipe an argument to <a href="Kernel.html#div/2"><code class="inline">div/2</code></a>, effectively
turning it into a call to <code class="inline">div/3</code>, which is a function that doesn't exist by
default. The code will raise unless a <code class="inline">div/3</code> function is locally defined.</p>
  </section>
</section>
<section class="detail" id="postwalk/2">

  <div class="detail-header">
    <a href="#postwalk/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">postwalk(ast, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L708" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> postwalk(<a href="#t:t/0">t</a>(), (<a href="#t:t/0">t</a>() -&gt; <a href="#t:t/0">t</a>())) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>This function behaves like <a href="#prewalk/2"><code class="inline">prewalk/2</code></a>, but performs a depth-first,
post-order traversal of quoted expressions.</p>
  </section>
</section>
<section class="detail" id="postwalk/3">

  <div class="detail-header">
    <a href="#postwalk/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">postwalk(ast, acc, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L717" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> postwalk(<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>(), (<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>() -&gt; {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()})) :: {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>This functions behaves like <a href="#prewalk/3"><code class="inline">prewalk/3</code></a>, but performs a depth-first,
post-order traversal of quoted expressions using an accumulator.</p>
  </section>
</section>
<section class="detail" id="postwalker/1">

  <div class="detail-header">
    <a href="#postwalker/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">postwalker(ast)</h1>

        <span class="note">(since 1.13.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L977" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> postwalker(<a href="#t:t/0">t</a>()) :: <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns an enumerable that traverses the  <code class="inline">ast</code> in depth-first,
post-order traversal.</p><h2 id="postwalker/1-examples" class="section-heading">
  <a href="#postwalker/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="p" data-group-id="4472222191-1">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="4472222191-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Enum</span><span class="o">.</span><span class="n">map</span><span class="p" data-group-id="4472222191-2">(</span><span class="nc">Macro</span><span class="o">.</span><span class="n">postwalker</span><span class="p" data-group-id="4472222191-3">(</span><span class="n">ast</span><span class="p" data-group-id="4472222191-3">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="p" data-group-id="4472222191-2">)</span><span class="w">
</span><span class="p" data-group-id="4472222191-4">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4472222191-5">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4472222191-6">[</span><span class="p" data-group-id="4472222191-6">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4472222191-7">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="4472222191-7">]</span><span class="p" data-group-id="4472222191-5">}</span><span class="p" data-group-id="4472222191-4">]</span></code></pre>
  </section>
</section>
<section class="detail" id="prewalk/2">

  <div class="detail-header">
    <a href="#prewalk/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prewalk(ast, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L670" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> prewalk(<a href="#t:t/0">t</a>(), (<a href="#t:t/0">t</a>() -&gt; <a href="#t:t/0">t</a>())) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Performs a depth-first, pre-order traversal of quoted expressions.</p><p>Returns a new AST where each node is the result of invoking <code class="inline">fun</code> on each
corresponding node of <code class="inline">ast</code>.</p><h2 id="prewalk/2-examples" class="section-heading">
  <a href="#prewalk/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="1235790557-1">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-2">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-3">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-4">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="1235790557-4">]</span><span class="p" data-group-id="1235790557-3">}</span><span class="p" data-group-id="1235790557-2">]</span><span class="p" data-group-id="1235790557-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ast</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">new_ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">prewalk</span><span class="p" data-group-id="1235790557-5">(</span><span class="n">ast</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1235790557-6">fn</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="p" data-group-id="1235790557-7">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="1235790557-7">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="1235790557-8">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="1235790557-8">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="p" data-group-id="1235790557-9">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="1235790557-9">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="1235790557-10">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="1235790557-10">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="n">other</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">other</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="1235790557-6">end</span><span class="p" data-group-id="1235790557-5">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="1235790557-11">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-12">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-13">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-14">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="1235790557-14">]</span><span class="p" data-group-id="1235790557-13">}</span><span class="p" data-group-id="1235790557-12">]</span><span class="p" data-group-id="1235790557-11">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_ast</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="1235790557-15">(</span><span class="n">ast</span><span class="p" data-group-id="1235790557-15">)</span><span class="w">
</span><span class="p" data-group-id="1235790557-16">{</span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-17">[</span><span class="p" data-group-id="1235790557-17">]</span><span class="p" data-group-id="1235790557-16">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="1235790557-18">(</span><span class="n">new_ast</span><span class="p" data-group-id="1235790557-18">)</span><span class="w">
</span><span class="p" data-group-id="1235790557-19">{</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1235790557-20">[</span><span class="p" data-group-id="1235790557-20">]</span><span class="p" data-group-id="1235790557-19">}</span></code></pre>
  </section>
</section>
<section class="detail" id="prewalk/3">

  <div class="detail-header">
    <a href="#prewalk/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prewalk(ast, acc, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L699" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> prewalk(<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>(), (<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>() -&gt; {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()})) :: {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>Performs a depth-first, pre-order traversal of quoted expressions
using an accumulator.</p><p>Returns a tuple where the first element is a new AST where each node is the
result of invoking <code class="inline">fun</code> on each corresponding node and the second one is the
final accumulator.</p><h2 id="prewalk/3-examples" class="section-heading">
  <a href="#prewalk/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="0908046570-1">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-2">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-3">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-4">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="0908046570-4">]</span><span class="p" data-group-id="0908046570-3">}</span><span class="p" data-group-id="0908046570-2">]</span><span class="p" data-group-id="0908046570-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ast</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="0908046570-5">{</span><span class="n">new_ast</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="0908046570-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">prewalk</span><span class="p" data-group-id="0908046570-6">(</span><span class="n">ast</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-7">[</span><span class="p" data-group-id="0908046570-7">]</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="0908046570-8">fn</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="p" data-group-id="0908046570-9">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="0908046570-9">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="0908046570-10">{</span><span class="p" data-group-id="0908046570-11">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="0908046570-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-12">[</span><span class="ss">:+</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="0908046570-12">]</span><span class="p" data-group-id="0908046570-10">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="p" data-group-id="0908046570-13">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="0908046570-13">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="0908046570-14">{</span><span class="p" data-group-id="0908046570-15">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="0908046570-15">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-16">[</span><span class="ss">:*</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="0908046570-16">]</span><span class="p" data-group-id="0908046570-14">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="0908046570-17">{</span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="0908046570-17">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="0908046570-8">end</span><span class="p" data-group-id="0908046570-6">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="0908046570-18">{</span><span class="p" data-group-id="0908046570-19">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-20">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-21">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-22">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="0908046570-22">]</span><span class="p" data-group-id="0908046570-21">}</span><span class="p" data-group-id="0908046570-20">]</span><span class="p" data-group-id="0908046570-19">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-23">[</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="ss">:+</span><span class="p" data-group-id="0908046570-23">]</span><span class="p" data-group-id="0908046570-18">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0908046570-24">{</span><span class="n">new_ast</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="0908046570-24">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="0908046570-25">(</span><span class="n">ast</span><span class="p" data-group-id="0908046570-25">)</span><span class="w">
</span><span class="p" data-group-id="0908046570-26">{</span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-27">[</span><span class="p" data-group-id="0908046570-27">]</span><span class="p" data-group-id="0908046570-26">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="0908046570-28">(</span><span class="n">new_ast</span><span class="p" data-group-id="0908046570-28">)</span><span class="w">
</span><span class="p" data-group-id="0908046570-29">{</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0908046570-30">[</span><span class="p" data-group-id="0908046570-30">]</span><span class="p" data-group-id="0908046570-29">}</span></code></pre>
  </section>
</section>
<section class="detail" id="prewalker/1">

  <div class="detail-header">
    <a href="#prewalker/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prewalker(ast)</h1>

        <span class="note">(since 1.13.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L919" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> prewalker(<a href="#t:t/0">t</a>()) :: <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns an enumerable that traverses the  <code class="inline">ast</code> in depth-first,
pre-order traversal.</p><h2 id="prewalker/1-examples" class="section-heading">
  <a href="#prewalker/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="p" data-group-id="0907492027-1">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="0907492027-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Enum</span><span class="o">.</span><span class="n">map</span><span class="p" data-group-id="0907492027-2">(</span><span class="nc">Macro</span><span class="o">.</span><span class="n">prewalker</span><span class="p" data-group-id="0907492027-3">(</span><span class="n">ast</span><span class="p" data-group-id="0907492027-3">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="p" data-group-id="0907492027-2">)</span><span class="w">
</span><span class="p" data-group-id="0907492027-4">[</span><span class="p" data-group-id="0907492027-5">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0907492027-6">[</span><span class="p" data-group-id="0907492027-6">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0907492027-7">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="0907492027-7">]</span><span class="p" data-group-id="0907492027-5">}</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="0907492027-4">]</span></code></pre>
  </section>
</section>
<section class="detail" id="quoted_literal?/1">

  <div class="detail-header">
    <a href="#quoted_literal?/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">quoted_literal?(term)</h1>

        <span class="note">(since 1.7.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1978" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> quoted_literal?(<a href="#t:t/0">t</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Returns <code class="inline">true</code> if the given quoted expression represents a quoted literal.</p><p>Atoms and numbers are always literals. Binaries, lists, tuples,
maps, and structs are only literals if all of their terms are also literals.</p><h2 id="quoted_literal?/1-examples" class="section-heading">
  <a href="#quoted_literal?/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-1">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-2">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p" data-group-id="7646101037-2">)</span><span class="p" data-group-id="7646101037-1">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-3">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-4">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7646101037-5">{</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7646101037-5">}</span><span class="p" data-group-id="7646101037-4">)</span><span class="p" data-group-id="7646101037-3">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-6">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-7">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7646101037-8">{</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:baz</span><span class="p" data-group-id="7646101037-8">}</span><span class="p" data-group-id="7646101037-7">)</span><span class="p" data-group-id="7646101037-6">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-9">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-10">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7646101037-11">%{</span><span class="ss">foo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="7646101037-11">}</span><span class="p" data-group-id="7646101037-10">)</span><span class="p" data-group-id="7646101037-9">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-12">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-13">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7646101037-14">%</span><span class="nc" data-group-id="7646101037-14">URI</span><span class="p" data-group-id="7646101037-14">{</span><span class="ss">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p" data-group-id="7646101037-14">}</span><span class="p" data-group-id="7646101037-13">)</span><span class="p" data-group-id="7646101037-12">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-15">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-16">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">URI</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="7646101037-17">(</span><span class="s">&quot;/&quot;</span><span class="p" data-group-id="7646101037-17">)</span><span class="p" data-group-id="7646101037-16">)</span><span class="p" data-group-id="7646101037-15">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">quoted_literal?</span><span class="p" data-group-id="7646101037-18">(</span><span class="k">quote</span><span class="p" data-group-id="7646101037-19">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7646101037-20">{</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">var</span><span class="p" data-group-id="7646101037-20">}</span><span class="p" data-group-id="7646101037-19">)</span><span class="p" data-group-id="7646101037-18">)</span><span class="w">
</span><span class="no">false</span></code></pre>
  </section>
</section>
<section class="detail" id="special_form?/2">

  <div class="detail-header">
    <a href="#special_form?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">special_form?(name, arity)</h1>

        <span class="note">(since 1.7.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1911" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> special_form?(name :: <a href="typespecs.html#basic-types">atom</a>(), <a href="typespecs.html#built-in-types">arity</a>()) :: <a href="typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Returns <code class="inline">true</code> if the given name and arity is a special form.</p>
  </section>
</section>
<section class="detail" id="struct!/2">

  <div class="detail-header">
    <a href="#struct!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">struct!(module, env)</h1>

        <span class="note">(since 1.8.0)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L846" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> struct!(module, <a href="Macro.Env.html#t:t/0">Macro.Env.t</a>()) :: %{
  :__struct__ =&gt; module,
  optional(<a href="typespecs.html#basic-types">atom</a>()) =&gt; <a href="typespecs.html#basic-types">any</a>()
}
when module: <a href="typespecs.html#built-in-types">module</a>()</pre>

      </div>

<p>Expands the struct given by <code class="inline">module</code> in the given <code class="inline">env</code>.</p><p>This is useful when a struct needs to be expanded at
compilation time and the struct being expanded may or may
not have been compiled. This function is also capable of
expanding structs defined under the module being compiled.</p><p>It will raise <a href="CompileError.html"><code class="inline">CompileError</code></a> if the struct is not available.
From Elixir v1.12, calling this function also adds an export
dependency on the given struct.</p>
  </section>
</section>
<section class="detail" id="to_string/1">

  <div class="detail-header">
    <a href="#to_string/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_string(tree)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1135" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_string(<a href="#t:t/0">t</a>()) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given expression AST to a string.</p><p>This is a convenience function for converting AST into
a string, which discards all formatting of the original
code and wraps newlines around 98 characters. See
<a href="Code.html#quoted_to_algebra/2"><code class="inline">Code.quoted_to_algebra/2</code></a> as a lower level function
with more control around formatting.</p><h2 id="to_string/1-examples" class="section-heading">
  <a href="#to_string/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="9082779669-1">(</span><span class="k">quote</span><span class="p" data-group-id="9082779669-2">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="p" data-group-id="9082779669-3">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="9082779669-3">)</span><span class="p" data-group-id="9082779669-2">)</span><span class="p" data-group-id="9082779669-1">)</span><span class="w">
</span><span class="s">&quot;foo.bar(1, 2, 3)&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="to_string/2">

  <div class="detail-header">
    <a href="#to_string/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_string(tree, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1162" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use Macro.to_string/1 instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> to_string(<a href="#t:t/0">t</a>(), (<a href="#t:t/0">t</a>(), <a href="String.html#t:t/0">String.t</a>() -&gt; <a href="String.html#t:t/0">String.t</a>())) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given expression AST to a string.</p><p>The given <code class="inline">fun</code> is called for every node in the AST with two arguments: the
AST of the node being printed and the string representation of that same
node. The return value of this function is used as the final string
representation for that AST node.</p><p>This function discards all formatting of the original code.</p><h2 id="to_string/2-examples" class="section-heading">
  <a href="#to_string/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="nc">Macro</span><span class="o">.</span><span class="n">to_string</span><span class="p" data-group-id="0168073653-1">(</span><span class="k">quote</span><span class="p" data-group-id="0168073653-2">(</span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0168073653-2">)</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="0168073653-3">fn</span><span class="w">
  </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c">_string</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="w">
  </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="c">_string</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="w">
  </span><span class="c">_ast</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">string</span><span class="w">
</span><span class="k" data-group-id="0168073653-3">end</span><span class="p" data-group-id="0168073653-1">)</span><span class="w">
</span><span class="c1">#=&gt; &quot;one + two&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="traverse/4">

  <div class="detail-header">
    <a href="#traverse/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">traverse(ast, acc, pre, post)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L598" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> traverse(<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>(), (<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>() -&gt; {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()}), (<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>() -&gt; {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()})) ::
  {<a href="#t:t/0">t</a>(), <a href="typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>Performs a depth-first traversal of quoted expressions
using an accumulator.</p><p>Returns a tuple where the first element is a new AST and the second one is
the final accumulator. The new AST is the result of invoking <code class="inline">pre</code> on each
node of <code class="inline">ast</code> during the pre-order phase and <code class="inline">post</code> during the post-order
phase.</p><h2 id="traverse/4-examples" class="section-heading">
  <a href="#traverse/4-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2801161112-1">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-2">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-3">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-4">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="2801161112-4">]</span><span class="p" data-group-id="2801161112-3">}</span><span class="p" data-group-id="2801161112-2">]</span><span class="p" data-group-id="2801161112-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ast</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2801161112-5">{</span><span class="n">new_ast</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-5">}</span><span class="w"> </span><span class="o">=</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2801161112-6">(</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="n">ast</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="p" data-group-id="2801161112-7">[</span><span class="p" data-group-id="2801161112-7">]</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="k" data-group-id="2801161112-8">fn</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="p" data-group-id="2801161112-9">{</span><span class="ss">:+</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-9">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-10">{</span><span class="p" data-group-id="2801161112-11">{</span><span class="ss">:-</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-12">[</span><span class="ss">:-</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-12">]</span><span class="p" data-group-id="2801161112-10">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="p" data-group-id="2801161112-13">{</span><span class="ss">:*</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-13">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-14">{</span><span class="p" data-group-id="2801161112-15">{</span><span class="ss">:/</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-15">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-16">[</span><span class="ss">:/</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-16">]</span><span class="p" data-group-id="2801161112-14">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-17">{</span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-17">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="k" data-group-id="2801161112-8">end</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="k" data-group-id="2801161112-18">fn</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="p" data-group-id="2801161112-19">{</span><span class="ss">:-</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-19">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-20">{</span><span class="p" data-group-id="2801161112-21">{</span><span class="ss">:min</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-21">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-22">[</span><span class="ss">:min</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-22">]</span><span class="p" data-group-id="2801161112-20">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="p" data-group-id="2801161112-23">{</span><span class="ss">:/</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-23">}</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-24">{</span><span class="p" data-group-id="2801161112-25">{</span><span class="ss">:max</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="p" data-group-id="2801161112-25">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-26">[</span><span class="ss">:max</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-26">]</span><span class="p" data-group-id="2801161112-24">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2801161112-27">{</span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p" data-group-id="2801161112-27">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">   </span><span class="k" data-group-id="2801161112-18">end</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w"> </span><span class="p" data-group-id="2801161112-6">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2801161112-28">{</span><span class="ss">:min</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-29">[</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-30">{</span><span class="ss">:max</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-31">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="2801161112-31">]</span><span class="p" data-group-id="2801161112-30">}</span><span class="p" data-group-id="2801161112-29">]</span><span class="p" data-group-id="2801161112-28">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_ast</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2801161112-32">[</span><span class="ss">:min</span><span class="p">,</span><span class="w"> </span><span class="ss">:max</span><span class="p">,</span><span class="w"> </span><span class="ss">:/</span><span class="p">,</span><span class="w"> </span><span class="ss">:-</span><span class="p" data-group-id="2801161112-32">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">acc</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="2801161112-33">(</span><span class="n">new_ast</span><span class="p" data-group-id="2801161112-33">)</span><span class="w">
</span><span class="p" data-group-id="2801161112-34">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2801161112-35">[</span><span class="p" data-group-id="2801161112-35">]</span><span class="p" data-group-id="2801161112-34">}</span></code></pre>
  </section>
</section>
<section class="detail" id="underscore/1">

  <div class="detail-header">
    <a href="#underscore/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">underscore(atom_or_string)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L2176" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> underscore(<a href="typespecs.html#built-in-types">module</a>() | <a href="typespecs.html#basic-types">atom</a>() | <a href="String.html#t:t/0">String.t</a>()) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts the given argument to a string with the underscore-slash format.</p><p>The argument must either be an atom or a string.
If an atom is given, it is assumed to be an Elixir module,
so it is converted to a string and then processed.</p><p>This function was designed to format language identifiers/tokens with the underscore-slash format,
that's why it belongs to the <a href="Macro.html"><code class="inline">Macro</code></a> module. Do not use it as a general
mechanism for underscoring strings as it does not support Unicode or
characters that are not valid in Elixir identifiers.</p><h2 id="underscore/1-examples" class="section-heading">
  <a href="#underscore/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">underscore</span><span class="p" data-group-id="9691025420-1">(</span><span class="s">&quot;FooBar&quot;</span><span class="p" data-group-id="9691025420-1">)</span><span class="w">
</span><span class="s">&quot;foo_bar&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">underscore</span><span class="p" data-group-id="9691025420-2">(</span><span class="s">&quot;Foo.Bar&quot;</span><span class="p" data-group-id="9691025420-2">)</span><span class="w">
</span><span class="s">&quot;foo/bar&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">underscore</span><span class="p" data-group-id="9691025420-3">(</span><span class="nc">Foo.Bar</span><span class="p" data-group-id="9691025420-3">)</span><span class="w">
</span><span class="s">&quot;foo/bar&quot;</span></code></pre><p>In general, <code class="inline">underscore</code> can be thought of as the reverse of
<code class="inline">camelize</code>, however, in some cases formatting may be lost:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">underscore</span><span class="p" data-group-id="3266095884-1">(</span><span class="s">&quot;SAPExample&quot;</span><span class="p" data-group-id="3266095884-1">)</span><span class="w">
</span><span class="s">&quot;sap_example&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="3266095884-2">(</span><span class="s">&quot;sap_example&quot;</span><span class="p" data-group-id="3266095884-2">)</span><span class="w">
</span><span class="s">&quot;SapExample&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="3266095884-3">(</span><span class="s">&quot;hello_10&quot;</span><span class="p" data-group-id="3266095884-3">)</span><span class="w">
</span><span class="s">&quot;Hello10&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">camelize</span><span class="p" data-group-id="3266095884-4">(</span><span class="s">&quot;foo/bar&quot;</span><span class="p" data-group-id="3266095884-4">)</span><span class="w">
</span><span class="s">&quot;Foo.Bar&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="unescape_string/1">

  <div class="detail-header">
    <a href="#unescape_string/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">unescape_string(string)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1053" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> unescape_string(<a href="String.html#t:t/0">String.t</a>()) :: <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Unescapes characters in a string.</p><p>This is the unescaping behaviour used by default in Elixir
single- and double-quoted strings. Check <a href="#unescape_string/2"><code class="inline">unescape_string/2</code></a>
for information on how to customize the escaping map.</p><p>In this setup, Elixir will escape the following: <code class="inline">\0</code>, <code class="inline">\a</code>, <code class="inline">\b</code>,
<code class="inline">\d</code>, <code class="inline">\e</code>, <code class="inline">\f</code>, <code class="inline">\n</code>, <code class="inline">\r</code>, <code class="inline">\s</code>, <code class="inline">\t</code> and <code class="inline">\v</code>. Bytes can be
given as hexadecimals via <code class="inline">\xNN</code> and Unicode code points as
<code class="inline">\uNNNN</code> escapes.</p><p>This function is commonly used on sigil implementations
(like <code class="inline">~r</code>, <code class="inline">~s</code> and others), which receive a raw, unescaped
string, and it can be used anywhere that needs to mimic how
Elixir parses strings.</p><h2 id="unescape_string/1-examples" class="section-heading">
  <a href="#unescape_string/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">unescape_string</span><span class="p" data-group-id="8773059890-1">(</span><span class="s">&quot;example</span><span class="se">\\</span><span class="s">n&quot;</span><span class="p" data-group-id="8773059890-1">)</span><span class="w">
</span><span class="s">&quot;example</span><span class="se">\n</span><span class="s">&quot;</span></code></pre><p>In the example above, we pass a string with <code class="inline">\n</code> escaped
and return a version with it unescaped.</p>
  </section>
</section>
<section class="detail" id="unescape_string/2">

  <div class="detail-header">
    <a href="#unescape_string/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">unescape_string(string, map)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L1099" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> unescape_string(<a href="String.html#t:t/0">String.t</a>(), (<a href="typespecs.html#basic-types">non_neg_integer</a>() -&gt; <a href="typespecs.html#basic-types">non_neg_integer</a>() | false)) ::
  <a href="String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Unescapes characters in a string according to the given mapping.</p><p>Check <a href="#unescape_string/1"><code class="inline">unescape_string/1</code></a> if you want to use the same mapping
as Elixir single- and double-quoted strings.</p><h2 id="unescape_string/2-mapping-function" class="section-heading">
  <a href="#unescape_string/2-mapping-function" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Mapping function</span>
</h2>
<p>The mapping function receives an integer representing the code point
of the character it wants to unescape. There are also the special atoms
<code class="inline">:newline</code>, <code class="inline">:unicode</code>, and <code class="inline">:hex</code>, which control newline, unicode,
and escaping respectively.</p><p>Here is the default mapping function implemented by Elixir:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-1">(</span><span class="ss">:newline</span><span class="p" data-group-id="1081602681-1">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-2">(</span><span class="ss">:unicode</span><span class="p" data-group-id="1081602681-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-3">(</span><span class="ss">:hex</span><span class="p" data-group-id="1081602681-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-4">(</span><span class="sc">?0</span><span class="p" data-group-id="1081602681-4">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?0</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-5">(</span><span class="sc">?a</span><span class="p" data-group-id="1081602681-5">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\a</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-6">(</span><span class="sc">?b</span><span class="p" data-group-id="1081602681-6">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\b</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-7">(</span><span class="sc">?d</span><span class="p" data-group-id="1081602681-7">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\d</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-8">(</span><span class="sc">?e</span><span class="p" data-group-id="1081602681-8">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\e</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-9">(</span><span class="sc">?f</span><span class="p" data-group-id="1081602681-9">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\f</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-10">(</span><span class="sc">?n</span><span class="p" data-group-id="1081602681-10">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\n</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-11">(</span><span class="sc">?r</span><span class="p" data-group-id="1081602681-11">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\r</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-12">(</span><span class="sc">?s</span><span class="p" data-group-id="1081602681-12">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\s</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-13">(</span><span class="sc">?t</span><span class="p" data-group-id="1081602681-13">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\t</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-14">(</span><span class="sc">?v</span><span class="p" data-group-id="1081602681-14">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="sc">?\v</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">unescape_map</span><span class="p" data-group-id="1081602681-15">(</span><span class="n">e</span><span class="p" data-group-id="1081602681-15">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">e</span></code></pre><p>If the <code class="inline">unescape_map/1</code> function returns <code class="inline">false</code>, the char is
not escaped and the backslash is kept in the string.</p><h2 id="unescape_string/2-examples" class="section-heading">
  <a href="#unescape_string/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Using the <code class="inline">unescape_map/1</code> function defined above is easy:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Macro</span><span class="o">.</span><span class="n">unescape_string</span><span class="p" data-group-id="2382395563-1">(</span><span class="s">&quot;example</span><span class="se">\\</span><span class="s">n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">unescape_map</span><span class="p" data-group-id="2382395563-2">(</span><span class="ni">&amp;1</span><span class="p" data-group-id="2382395563-2">)</span><span class="p" data-group-id="2382395563-1">)</span></code></pre>
  </section>
</section>
<section class="detail" id="unique_var/2">

  <div class="detail-header">
    <a href="#unique_var/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">unique_var(var, context)</h1>

        <span class="note">(since 1.11.3)</span>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L559" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> unique_var(var, context) :: {var, [{:counter, <a href="typespecs.html#basic-types">integer</a>()}], context}
when var: <a href="typespecs.html#basic-types">atom</a>(), context: <a href="typespecs.html#basic-types">atom</a>()</pre>

      </div>

<p>Generates an AST node representing a unique variable
given by the atoms <code class="inline">var</code> and <code class="inline">context</code>.</p><p>Calling this function with the same arguments will
generate another variable, with its own unique counter.
See <a href="#var/2"><code class="inline">var/2</code></a> for an alternative.</p><h2 id="unique_var/2-examples" class="section-heading">
  <a href="#unique_var/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="8600263561-1">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8600263561-2">[</span><span class="ss">counter</span><span class="p">:</span><span class="w"> </span><span class="n">c</span><span class="p" data-group-id="8600263561-2">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="8600263561-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Macro</span><span class="o">.</span><span class="n">unique_var</span><span class="p" data-group-id="8600263561-3">(</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="8600263561-3">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">is_integer</span><span class="p" data-group-id="8600263561-4">(</span><span class="n">c</span><span class="p" data-group-id="8600263561-4">)</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</section>
<section class="detail" id="unpipe/1">

  <div class="detail-header">
    <a href="#unpipe/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">unpipe(expr)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L215" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> unpipe(<a href="#t:t/0">t</a>()) :: [<a href="#t:t/0">t</a>()]</pre>

      </div>

<p>Breaks a pipeline expression into a list.</p><p>The AST for a pipeline (a sequence of applications of <a href="Kernel.html#%7C%3E/2"><code class="inline">|&gt;/2</code></a>) is similar to the
AST of a sequence of binary operators or function applications: the top-level
expression is the right-most <code class="inline">:|&gt;</code> (which is the last one to be executed), and
its left-hand and right-hand sides are its arguments:</p><pre><code class="makeup elixir" translate="no"><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">div</span><span class="p" data-group-id="0946059611-1">(</span><span class="mi">5</span><span class="p" data-group-id="0946059611-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">div</span><span class="p" data-group-id="0946059611-2">(</span><span class="mi">2</span><span class="p" data-group-id="0946059611-2">)</span><span class="w">
</span><span class="c1">#=&gt; {:|&gt;, _, [arg1, arg2]}</span></code></pre><p>In the example above, the <a href="Kernel.html#%7C%3E/2"><code class="inline">|&gt;/2</code></a> pipe is the right-most pipe; <code class="inline">arg1</code> is the AST
for <code class="inline">100 |&gt; div(5)</code>, and <code class="inline">arg2</code> is the AST for <code class="inline">div(2)</code>.</p><p>It's often useful to have the AST for such a pipeline as a list of function
applications. This function does exactly that:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Macro</span><span class="o">.</span><span class="n">unpipe</span><span class="p" data-group-id="9490045460-1">(</span><span class="k">quote</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">div</span><span class="p" data-group-id="9490045460-2">(</span><span class="mi">5</span><span class="p" data-group-id="9490045460-2">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">div</span><span class="p" data-group-id="9490045460-3">(</span><span class="mi">2</span><span class="p" data-group-id="9490045460-3">)</span><span class="p" data-group-id="9490045460-1">)</span><span class="w">
</span><span class="c1">#=&gt; [{100, 0}, {{:div, [], [5]}, 0}, {{:div, [], [2]}, 0}]</span></code></pre><p>We get a list that follows the pipeline directly: first the <code class="inline">100</code>, then the
<code class="inline">div(5)</code> (more precisely, its AST), then <code class="inline">div(2)</code>. The <code class="inline">0</code> as the second
element of the tuples is the position of the previous element in the pipeline
inside the current function application: <code class="inline">{{:div, [], [5]}, 0}</code> means that the
previous element (<code class="inline">100</code>) will be inserted as the 0th (first) argument to the
<a href="Kernel.html#div/2"><code class="inline">div/2</code></a> function, so that the AST for that function will become <code class="inline">{:div, [], [100, 5]}</code> (<code class="inline">div(100, 5)</code>).</p>
  </section>
</section>
<section class="detail" id="update_meta/2">

  <div class="detail-header">
    <a href="#update_meta/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_meta(quoted, fun)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L357" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update_meta(<a href="#t:t/0">t</a>(), (<a href="typespecs.html#built-in-types">keyword</a>() -&gt; <a href="typespecs.html#built-in-types">keyword</a>())) :: <a href="#t:t/0">t</a>()</pre>

      </div>

<p>Applies the given function to the node metadata if it contains one.</p><p>This is often useful when used with <a href="#prewalk/2"><code class="inline">Macro.prewalk/2</code></a> to remove
information like lines and hygienic counters from the expression
for either storage or comparison.</p><h2 id="update_meta/2-examples" class="section-heading">
  <a href="#update_meta/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">quoted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">quote</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="n">sample</span><span class="p" data-group-id="9328362211-1">(</span><span class="p" data-group-id="9328362211-1">)</span><span class="w">
</span><span class="p" data-group-id="9328362211-2">{</span><span class="ss">:sample</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9328362211-3">[</span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="9328362211-3">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9328362211-4">[</span><span class="p" data-group-id="9328362211-4">]</span><span class="p" data-group-id="9328362211-2">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">update_meta</span><span class="p" data-group-id="9328362211-5">(</span><span class="n">quoted</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nc">Keyword</span><span class="o">.</span><span class="n">delete</span><span class="p" data-group-id="9328362211-6">(</span><span class="ni">&amp;1</span><span class="p">,</span><span class="w"> </span><span class="ss">:line</span><span class="p" data-group-id="9328362211-6">)</span><span class="p" data-group-id="9328362211-5">)</span><span class="w">
</span><span class="p" data-group-id="9328362211-7">{</span><span class="ss">:sample</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9328362211-8">[</span><span class="p" data-group-id="9328362211-8">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9328362211-9">[</span><span class="p" data-group-id="9328362211-9">]</span><span class="p" data-group-id="9328362211-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="validate/1">

  <div class="detail-header">
    <a href="#validate/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">validate(expr)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L880" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> validate(<a href="typespecs.html#built-in-types">term</a>()) :: :ok | {:error, <a href="typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Validates the given expressions are valid quoted expressions.</p><p>Check the type <a href="#t:t/0"><code class="inline">Macro.t/0</code></a> for a complete specification of a
valid quoted expression.</p><p>It returns <code class="inline">:ok</code> if the expression is valid. Otherwise it returns
a tuple in the form of <code class="inline">{:error, remainder}</code> where <code class="inline">remainder</code> is
the invalid part of the quoted expression.</p><h2 id="validate/1-examples" class="section-heading">
  <a href="#validate/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="6657425199-1">(</span><span class="p" data-group-id="6657425199-2">{</span><span class="ss">:two_element</span><span class="p">,</span><span class="w"> </span><span class="ss">:tuple</span><span class="p" data-group-id="6657425199-2">}</span><span class="p" data-group-id="6657425199-1">)</span><span class="w">
</span><span class="ss">:ok</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="6657425199-3">(</span><span class="p" data-group-id="6657425199-4">{</span><span class="ss">:three</span><span class="p">,</span><span class="w"> </span><span class="ss">:element</span><span class="p">,</span><span class="w"> </span><span class="ss">:tuple</span><span class="p" data-group-id="6657425199-4">}</span><span class="p" data-group-id="6657425199-3">)</span><span class="w">
</span><span class="p" data-group-id="6657425199-5">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6657425199-6">{</span><span class="ss">:three</span><span class="p">,</span><span class="w"> </span><span class="ss">:element</span><span class="p">,</span><span class="w"> </span><span class="ss">:tuple</span><span class="p" data-group-id="6657425199-6">}</span><span class="p" data-group-id="6657425199-5">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="6657425199-7">(</span><span class="p" data-group-id="6657425199-8">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="6657425199-8">]</span><span class="p" data-group-id="6657425199-7">)</span><span class="w">
</span><span class="ss">:ok</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="6657425199-9">(</span><span class="p" data-group-id="6657425199-10">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6657425199-11">{</span><span class="mi">4</span><span class="p" data-group-id="6657425199-11">}</span><span class="p" data-group-id="6657425199-10">]</span><span class="p" data-group-id="6657425199-9">)</span><span class="w">
</span><span class="p" data-group-id="6657425199-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6657425199-13">{</span><span class="mi">4</span><span class="p" data-group-id="6657425199-13">}</span><span class="p" data-group-id="6657425199-12">}</span></code></pre>
  </section>
</section>
<section class="detail" id="var/2">

  <div class="detail-header">
    <a href="#var/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">var(var, context)</h1>


        <a href="https://github.com/elixir-lang/elixir/blob/cee31ab46f2cd47a942d236470216376b53fb41a/lib/elixir/lib/macro.ex#L537" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> var(var, context) :: {var, [], context} when var: <a href="typespecs.html#basic-types">atom</a>(), context: <a href="typespecs.html#basic-types">atom</a>()</pre>

      </div>

<p>Generates an AST node representing the variable given
by the atoms <code class="inline">var</code> and <code class="inline">context</code>.</p><p>Note this variable is not unique. If you later on want
to access this same variable, you can invoke <a href="#var/2"><code class="inline">var/2</code></a>
again with the same arguments. Use <a href="#unique_var/2"><code class="inline">unique_var/2</code></a> to
generate a unique variable that can't be overridden.</p><h2 id="var/2-examples" class="section-heading">
  <a href="#var/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>In order to build a variable, a context is expected.
Most of the times, in order to preserve hygiene, the
context must be <a href="Kernel.SpecialForms.html#__MODULE__/0"><code class="inline">__MODULE__/0</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">var</span><span class="p" data-group-id="3269724169-1">(</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="3269724169-1">)</span><span class="w">
</span><span class="p" data-group-id="3269724169-2">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3269724169-3">[</span><span class="p" data-group-id="3269724169-3">]</span><span class="p">,</span><span class="w"> </span><span class="bp">__MODULE__</span><span class="p" data-group-id="3269724169-2">}</span></code></pre><p>However, if there is a need to access the user variable,
nil can be given:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Macro</span><span class="o">.</span><span class="n">var</span><span class="p" data-group-id="2255510643-1">(</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="2255510643-1">)</span><span class="w">
</span><span class="p" data-group-id="2255510643-2">{</span><span class="ss">:foo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2255510643-3">[</span><span class="p" data-group-id="2255510643-3">]</span><span class="p">,</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="2255510643-2">}</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Elixir.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.1) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  });
</script>

  </body>
</html>
